{"version":3,"file":"jquery-steps.js","sources":["../src/Defaults.js","../src/Steps.js","../src/Plugin.js"],"sourcesContent":["export default {\n  startAt: 0,\n  showBackButton: true,\n  showFooterButtons: true,\n  onInit: $.noop,\n  onDestroy: $.noop,\n  onFinish: $.noop,\n  onChange() { return true; },\n  stepSelector: '.step-steps > li',\n  contentSelector: '.step-content > .step-tab-panel',\n  footerSelector: '.step-footer',\n  buttonSelector: 'button',\n  activeClass: 'active',\n  doneClass: 'done',\n  errorClass: 'error',\n};\n","import $ from 'jquery';\nimport DEFAULTS from './Defaults';\n\nclass Steps {\n  constructor(element, options) {\n    // Extend defaults with the init options.\n    this.options = $.extend({}, DEFAULTS, options);\n\n    // Store main DOM element.\n    this.el = $(element);\n\n    // Initialize\n    this.init();\n  }\n\n  init() {\n    this.hook('onInit');\n    const self = this;\n\n    // step click event\n    $(this.el).find(this.options.stepSelector).on('click', function (e) {\n      e.preventDefault();\n      const nextStep = $(this).closest('li').index();\n      const stepIndex = self.getStepIndex();\n      self.setActiveStep(stepIndex, nextStep);\n    });\n\n    // button click event\n    $(this.el).find(`${this.options.footerSelector} ${this.options.buttonSelector}`).on('click', function (e) {\n      e.preventDefault();\n      const statusAction = $(this).data('direction');\n      self.setAction(statusAction);\n    });\n\n    // set default step\n    this.setShowStep(this.options.startAt, '', this.options.activeClass);\n    this.setFooterBtns();\n\n    // show footer buttons\n    if (!this.options.showFooterButtons) {\n      this.hideFooterBtns();\n      this.setFooterBtns = $.noop;\n    }\n  }\n\n  hook(hookName) {\n    if (this.options[hookName] !== undefined) {\n      this.options[hookName].call(this.el);\n    }\n  }\n\n  destroy() {\n    this.el.empty();\n    this.el.removeData('plugin_Steps');\n    this.hook('onDestroy');\n  }\n\n  getStepIndex() {\n    const stepIndex = this.el.find(this.options.stepSelector)\n      .filter(`.${this.options.activeClass}`)\n      .index();\n    return stepIndex || 0;\n  }\n\n  getMaxStepCount() {\n    return this.el.find(this.options.stepSelector).length - 1;\n  }\n\n  getStepDirection(stepIndex, newIndex) {\n    let direction = 'none';\n    if (newIndex < stepIndex) {\n      direction = 'backward';\n    } else if (newIndex > stepIndex) {\n      direction = 'forward';\n    }\n    return direction;\n  }\n\n  setShowStep(idx, removeClass, addClass = '') {\n    this.el.find(this.options.contentSelector).removeClass(this.options.activeClass);\n    const $prevStep = this.el.find(this.options.stepSelector).eq(idx);\n    $prevStep.removeClass(removeClass).addClass(addClass);\n    const targetStep = $prevStep.find('a').attr('href');\n    $(targetStep).addClass(this.options.activeClass);\n  }\n\n  setActiveStep(currentIndex, newIndex) {\n    if (newIndex !== currentIndex) {\n      if (newIndex > currentIndex) {\n        for (let i = 0; i <= newIndex; i += 1) {\n          const lastTab = i === newIndex;\n          if (lastTab) {\n            this.setShowStep(i, this.options.doneClass, this.options.activeClass);\n          } else {\n            this.setShowStep(i, `${this.options.activeClass} ${this.options.errorClass}`, this.options.doneClass);\n          }\n          const stepDirectionF = this.getStepDirection(i, newIndex);\n          const validStep = this.options.onChange(i, newIndex, stepDirectionF);\n          if (!validStep) {\n            this.setShowStep(i, this.options.doneClass, `${this.options.activeClass} ${this.options.errorClass}`);\n            this.setFooterBtns();\n            break;\n          }\n        }\n      }\n\n      if (currentIndex > newIndex) {\n        for (let i = currentIndex; i >= newIndex; i -= 1) {\n          const stepDirectionB = this.getStepDirection(i, newIndex);\n          this.options.onChange(i, newIndex, stepDirectionB);\n          this.setShowStep(i, `${this.options.doneClass} ${this.options.activeClass} ${this.options.errorClass}`);\n          if (i === newIndex) {\n            this.setShowStep(i, `${this.options.doneClass} ${this.options.errorClass}`, this.options.activeClass);\n          }\n        }\n      }\n\n      this.setFooterBtns();\n    }\n  }\n\n  setFooterBtns() {\n    const stepIndex = this.getStepIndex();\n    const maxIndex = this.getMaxStepCount();\n    const $footer = this.el.find(this.options.footerSelector);\n\n    if (stepIndex === 0) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n\n    if (stepIndex > 0 && this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n    }\n\n    if (maxIndex === stepIndex) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n      $footer.find('button[data-direction=\"next\"]').hide();\n      $footer.find('button[data-direction=\"finish\"]').show();\n    } else {\n      $footer.find('button[data-direction=\"next\"]').show();\n      $footer.find('button[data-direction=\"finish\"]').hide();\n    }\n\n    if (!this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n  }\n\n  setAction(action) {\n    const stepIndex = this.getStepIndex();\n    let nextStep = stepIndex;\n    if (action === 'prev') { nextStep -= 1; }\n    if (action === 'next') { nextStep += 1; }\n    if (action === 'finish') {\n      const validStep = this.options.onChange(stepIndex, nextStep, 'forward');\n      if (validStep) {\n        this.hook('onFinish');\n      } else {\n        this.setShowStep(stepIndex, '', 'error');\n      }\n    }\n    if (action !== 'finish') { this.setActiveStep(stepIndex, nextStep); }\n  }\n\n  next() {\n    const stepIndex = this.getStepIndex();\n    const maxIndex = this.getMaxStepCount();\n    return maxIndex === stepIndex ? this.setAction('finish') : this.setAction('next');\n  }\n\n  prev() {\n    const stepIndex = this.getStepIndex();\n    return stepIndex !== 0 && this.setAction('prev');\n  }\n\n  finish() {\n    this.hook('onFinish');\n  }\n\n  hideFooterBtns() {\n    this.el.find(this.options.footerSelector).hide();\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n}\n\nexport default Steps;\n","import $ from 'jquery';\nimport Steps from './Steps';\n\nconst other = $.fn.steps;\n\n$.fn.steps = function (options) {\n  return this.each(function () {\n    if (!$.data(this, 'plugin_Steps')) {\n      $.data(this, 'plugin_Steps', new Steps(this, options));\n    }\n  });\n};\n\n$.fn.steps.version = '1.0.2';\n$.fn.steps.setDefaults = Steps.setDefaults;\n\n// No conflict\n$.fn.steps.noConflict = function () {\n  $.fn.steps = other;\n  return this;\n};\n"],"names":["startAt","showBackButton","showFooterButtons","onInit","$","noop","onDestroy","onFinish","onChange","stepSelector","contentSelector","footerSelector","buttonSelector","activeClass","doneClass","errorClass","Steps","element","options","extend","DEFAULTS","el","init","hook","self","find","on","e","preventDefault","nextStep","closest","index","stepIndex","getStepIndex","setActiveStep","statusAction","data","setAction","setShowStep","setFooterBtns","hideFooterBtns","hookName","undefined","call","empty","removeData","filter","length","newIndex","direction","idx","removeClass","addClass","$prevStep","eq","targetStep","attr","currentIndex","i","lastTab","stepDirectionF","getStepDirection","validStep","stepDirectionB","maxIndex","getMaxStepCount","$footer","hide","show","action","isPlainObject","other","fn","steps","each","version","setDefaults","noConflict"],"mappings":"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"}