/*
 Highmaps JS v10.2.1 (2022-08-29)

 Highmaps as a plugin for Highcharts or Highcharts Stock.

 (c) 2011-2021 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(A){c(A);c.Highcharts=A;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function A(c,k,q,g){c.hasOwnProperty(k)||(c[k]=g.apply(null,q),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,module:c[k]}})))}c=c?c._modules:{};A(c,"Core/Axis/Color/ColorAxisComposition.js",
[c["Core/Color/Color.js"],c["Core/Utilities.js"]],function(c,k){var q=c.parse,g=k.addEvent,n=k.extend,d=k.merge,l=k.pick,J=k.splat,r;(function(e){function r(){var b=this,f=this.options;this.colorAxis=[];f.colorAxis&&(f.colorAxis=J(f.colorAxis),f.colorAxis.forEach(function(f,a){f.index=a;new B(b,f)}))}function b(f){var b=this,a=function(a){a=f.allItems.indexOf(a);-1!==a&&(b.destroyItem(f.allItems[a]),f.allItems.splice(a,1))},m=[],y,t;(this.chart.colorAxis||[]).forEach(function(f){(y=f.options)&&y.showInLegend&&
(y.dataClasses&&y.visible?m=m.concat(f.getDataClassLegendSymbols()):y.visible&&m.push(f),f.series.forEach(function(f){if(!f.options.showInLegend||y.dataClasses)"point"===f.options.legendType?f.points.forEach(function(f){a(f)}):a(f)}))});for(t=m.length;t--;)f.allItems.unshift(m[t])}function a(f){f.visible&&f.item.legendColor&&f.item.legendSymbol.attr({fill:f.item.legendColor})}function h(){var f=this.chart.colorAxis;f&&f.forEach(function(f,a,b){f.update({},b)})}function u(){(this.chart.colorAxis&&
this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function p(){var f=this.axisTypes;f?-1===f.indexOf("colorAxis")&&f.push("colorAxis"):this.axisTypes=["colorAxis"]}function w(f){var a=this,b=f?"show":"hide";a.visible=a.options.visible=!!f;["graphic","dataLabel"].forEach(function(f){if(a[f])a[f][b]()});this.series.buildKDTree()}function v(){var f=this,a=this.options.nullColor,b=this.colorAxis,m=this.colorKey;(this.data.length?this.data:this.points).forEach(function(y){var t=y.getNestedProperty(m);
(t=y.options.color||(y.isNull||null===y.value?a:b&&"undefined"!==typeof t?b.toColor(t,y):y.color||f.color))&&y.color!==t&&(y.color=t,"point"===f.options.legendType&&y.legendItem&&f.chart.legend.colorizeItem(y,y.visible))})}function t(f){var a=f.prototype.createAxis;f.prototype.createAxis=function(f,b){if("colorAxis"!==f)return a.apply(this,arguments);var y=new B(this,d(b.axis,{index:this[f].length,isX:!1}));this.isDirtyLegend=!0;this.axes.forEach(function(f){f.series=[]});this.series.forEach(function(f){f.bindAxes();
f.isDirtyData=!0});l(b.redraw,!0)&&this.redraw(b.animation);return y}}function D(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function f(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var m=[],B;e.compose=function(e,d,l,x,y){B||(B=e);-1===m.indexOf(d)&&(m.push(d),e=d.prototype,e.collectionsWithUpdate.push("colorAxis"),e.collectionsWithInit.colorAxis=[e.addColorAxis],g(d,"afterGetAxes",r),t(d));-1===m.indexOf(l)&&(m.push(l),d=l.prototype,
d.fillSetter=D,d.strokeSetter=f);-1===m.indexOf(x)&&(m.push(x),g(x,"afterGetAllItems",b),g(x,"afterColorizeItem",a),g(x,"afterUpdate",h));-1===m.indexOf(y)&&(m.push(y),n(y.prototype,{optionalAxis:"colorAxis",translateColors:v}),n(y.prototype.pointClass.prototype,{setVisible:w}),g(y,"afterTranslate",u),g(y,"bindAxes",p))};e.pointSetVisible=w})(r||(r={}));return r});A(c,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,
startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}});A(c,"Core/Axis/Color/ColorAxis.js",[c["Core/Axis/Axis.js"],c["Core/Color/Color.js"],c["Core/Axis/Color/ColorAxisComposition.js"],c["Core/Axis/Color/ColorAxisDefaults.js"],c["Core/Globals.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,
q,g,n,d,l,z){var r=this&&this.__extends||function(){var a=function(b,t){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b])};return a(b,t)};return function(b,t){function h(){this.constructor=b}a(b,t);b.prototype=null===t?Object.create(t):(h.prototype=t.prototype,new h)}}(),e=k.parse,x=n.noop,b=l.series,a=z.extend,h=z.isNumber,u=z.merge,p=z.pick;k=function(w){function v(b,a){var f=w.call(this,b,a)||this;
f.beforePadding=!1;f.chart=void 0;f.coll="colorAxis";f.dataClasses=void 0;f.legendItem=void 0;f.legendItems=void 0;f.name="";f.options=void 0;f.stops=void 0;f.visible=!0;f.init(b,a);return f}r(v,w);v.compose=function(b,a,f,m){q.compose(v,b,a,f,m)};v.prototype.init=function(b,a){var f=b.options.legend||{},m=a.layout?"vertical"!==a.layout:"vertical"!==f.layout,t=a.visible;f=u(v.defaultColorAxisOptions,a,{showEmpty:!1,title:null,visible:f.enabled&&!1!==t});this.coll="colorAxis";this.side=a.side||m?2:
1;this.reversed=a.reversed||!m;this.opposite=!m;w.prototype.init.call(this,b,f);this.userOptions.visible=t;a.dataClasses&&this.initDataClasses(a);this.initStops();this.horiz=m;this.zoomEnabled=!1};v.prototype.initDataClasses=function(a){var b=this.chart,f=this.options,m=a.dataClasses.length,t,h=0,p=b.options.chart.colorCount;this.dataClasses=t=[];this.legendItems=[];(a.dataClasses||[]).forEach(function(a,D){a=u(a);t.push(a);if(b.styledMode||!a.color)"category"===f.dataClassColor?(b.styledMode||(D=
b.options.colors,p=D.length,a.color=D[h]),a.colorIndex=h,h++,h===p&&(h=0)):a.color=e(f.minColor).tweenTo(e(f.maxColor),2>m?.5:D/(m-1))})};v.prototype.hasData=function(){return!!(this.tickPositions||[]).length};v.prototype.setTickPositions=function(){if(!this.dataClasses)return w.prototype.setTickPositions.call(this)};v.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]];this.stops.forEach(function(a){a.color=e(a[1])})};v.prototype.setOptions=
function(a){w.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker};v.prototype.setAxisSize=function(){var a=this.legendSymbol,b=this.chart,f=b.options.legend||{},m,h;a?(this.left=f=a.attr("x"),this.top=m=a.attr("y"),this.width=h=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-f-h,this.bottom=b.chartHeight-m-a,this.len=this.horiz?h:a,this.pos=this.horiz?f:m):this.len=(this.horiz?f.symbolWidth:f.symbolHeight)||v.defaultLegendLength};v.prototype.normalizedValue=
function(a){this.logarithmic&&(a=this.logarithmic.log2lin(a));return 1-(this.max-a)/(this.max-this.min||1)};v.prototype.toColor=function(a,b){var f=this.dataClasses,m=this.stops,h;if(f)for(h=f.length;h--;){var t=f[h];var p=t.from;m=t.to;if(("undefined"===typeof p||a>=p)&&("undefined"===typeof m||a<=m)){var u=t.color;b&&(b.dataClass=h,b.colorIndex=t.colorIndex);break}}else{a=this.normalizedValue(a);for(h=m.length;h--&&!(a>m[h][0]););p=m[h]||m[h+1];m=m[h+1]||p;a=1-(m[0]-a)/(m[0]-p[0]||1);u=p.color.tweenTo(m.color,
a)}return u};v.prototype.getOffset=function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a;w.prototype.getOffset.call(this);var f=this.chart.legend;f.allItems.forEach(function(a){a instanceof v&&a.drawLegendSymbol(f,a)});f.render();this.chart.getMargins(!0);this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width);this.chart.axisOffset[this.side]=b}};v.prototype.setLegendColor=function(){var a=this.reversed,b=a?1:0;a=a?0:1;b=this.horiz?[b,0,a,0]:
[0,a,0,b];this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:this.stops}};v.prototype.drawLegendSymbol=function(a,b){var f=a.padding,h=a.options,t=this.horiz,u=p(h.symbolWidth,t?v.defaultLegendLength:12),e=p(h.symbolHeight,t?12:v.defaultLegendLength),d=p(h.labelPadding,t?16:30);h=p(h.itemDistance,10);this.setLegendColor();b.legendSymbol||(b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,u,e).attr({zIndex:1}).add(b.legendGroup));this.legendItemWidth=u+f+(t?h:this.options.labels.x+
this.maxLabelLength);this.legendItemHeight=e+f+(t?d:0)};v.prototype.setState=function(a){this.series.forEach(function(b){b.setState(a)})};v.prototype.setVisible=function(){};v.prototype.getSeriesExtremes=function(){var a=this.series,h=a.length,f;this.dataMin=Infinity;for(this.dataMax=-Infinity;h--;){var m=a[h];var u=m.colorKey=p(m.options.colorKey,m.colorKey,m.pointValKey,m.zoneAxis,"y");var e=m.pointArrayMap;var d=m[u+"Min"]&&m[u+"Max"];if(m[u+"Data"])var w=m[u+"Data"];else if(e){w=[];e=e.indexOf(u);
var v=m.yData;if(0<=e&&v)for(f=0;f<v.length;f++)w.push(p(v[f][e],v[f]))}else w=m.yData;d?(m.minColorValue=m[u+"Min"],m.maxColorValue=m[u+"Max"]):(w=b.prototype.getExtremes.call(m,w),m.minColorValue=w.dataMin,m.maxColorValue=w.dataMax);"undefined"!==typeof m.minColorValue&&(this.dataMin=Math.min(this.dataMin,m.minColorValue),this.dataMax=Math.max(this.dataMax,m.maxColorValue));d||b.prototype.applyExtremes.call(m)}};v.prototype.drawCrosshair=function(a,b){var f=b&&b.plotX,h=b&&b.plotY,u=this.pos,p=
this.len;if(b){var t=this.toPixels(b.getNestedProperty(b.series.colorKey));t<u?t=u-2:t>u+p&&(t=u+p+2);b.plotX=t;b.plotY=this.len-t;w.prototype.drawCrosshair.call(this,a,b);b.plotX=f;b.plotY=h;this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!==typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}};v.prototype.getPlotLinePath=function(a){var b=
this.left,f=a.translatedValue,m=this.top;return h(f)?this.horiz?[["M",f-4,m-6],["L",f+4,m-6],["L",f,m],["Z"]]:[["M",b,f],["L",b-6,f+6],["L",b-6,f-6],["Z"]]:w.prototype.getPlotLinePath.call(this,a)};v.prototype.update=function(a,b){var f=this.chart.legend;this.series.forEach(function(a){a.isDirtyData=!0});(a.dataClasses&&f.allItems||this.dataClasses)&&this.destroyItems();w.prototype.update.call(this,a,b);this.legendItem&&(this.setLegendColor(),f.colorizeItem(this,!0))};v.prototype.destroyItems=function(){var a=
this.chart;this.legendItem?a.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(b){a.legend.destroyItem(b)});a.isDirtyLegend=!0};v.prototype.destroy=function(){this.chart.isDirtyLegend=!0;this.destroyItems();w.prototype.destroy.apply(this,[].slice.call(arguments))};v.prototype.remove=function(a){this.destroyItems();w.prototype.remove.call(this,a)};v.prototype.getDataClassLegendSymbols=function(){var b=this,h=b.chart,f=b.legendItems,m=h.options.legend,u=m.valueDecimals,p=
m.valueSuffix||"",e;f.length||b.dataClasses.forEach(function(m,t){var y=m.from,C=m.to,I=h.numberFormatter,w=!0;e="";"undefined"===typeof y?e="< ":"undefined"===typeof C&&(e="> ");"undefined"!==typeof y&&(e+=I(y,u)+p);"undefined"!==typeof y&&"undefined"!==typeof C&&(e+=" - ");"undefined"!==typeof C&&(e+=I(C,u)+p);f.push(a({chart:h,name:e,options:{},drawLegendSymbol:d.drawRectangle,visible:!0,setState:x,isDataClass:!0,setVisible:function(){this.visible=w=b.visible=!w;b.series.forEach(function(a){a.points.forEach(function(a){a.dataClass===
t&&a.setVisible(w)})});h.legend.colorizeItem(this,w)}},m))});return f};v.defaultColorAxisOptions=g;v.defaultLegendLength=200;v.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"];return v}(c);Array.prototype.push.apply(c.keepProps,k.keepProps);"";return k});A(c,"Maps/MapNavigationOptionsDefault.js",[c["Core/DefaultOptions.js"],c["Core/Utilities.js"]],function(c,k){k=k.extend;var q={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,
height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};k(c.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});return c.defaultOptions.mapNavigation=q});A(c,"Maps/MapNavigation.js",[c["Core/Chart/Chart.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,k,q){function g(a){a&&
(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function n(a){this.navButtons=[];this.init(a)}var d=k.doc,l=q.addEvent,z=q.extend,r=q.isNumber,e=q.merge,x=q.objectEach,b=q.pick;n.prototype.init=function(a){this.chart=a};n.prototype.update=function(a){var h=this,u=this.chart,p=u.options.mapNavigation,w,d=function(a){this.handler.call(u,a);g(a)},t=h.navButtons;a&&(p=u.options.mapNavigation=e(u.options.mapNavigation,a));for(;t.length;)t.pop().destroy();
b(p.enableButtons,p.enabled)&&!u.renderer.forExport&&(h.navButtonsGroup||(h.navButtonsGroup=u.renderer.g().attr({zIndex:4}).add()),x(p.buttons,function(a,b){a=e(p.buttonOptions,a);!u.styledMode&&a.theme&&(w=a.theme,w.style=e(a.theme.style,a.style));var f=u.renderer.button(a.text||"",0,0,d,w,void 0,void 0,void 0,"zoomIn"===b?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[b]).attr({width:a.width,height:a.height,title:u.options.lang[b],
padding:a.padding,zIndex:5}).add(h.navButtonsGroup);f.handler=a.onclick;l(f.element,"dblclick",g);t.push(f);z(a,{width:f.width,height:2*f.height});if(u.hasLoaded)f.align(a,!1,a.alignTo);else var v=l(u,"load",function(){f.element&&f.align(a,!1,a.alignTo);v()})}),a=function(){var a=u.exportingGroup&&u.exportingGroup.getBBox();if(a){var b=h.navButtonsGroup.getBBox();if(!(b.x>=a.x+a.width||b.x+b.width<=a.x||b.y>=a.y+a.height||b.y+b.height<=a.y)){var m=-b.y-b.height+a.y-5;a=a.y+a.height-b.y+5;h.navButtonsGroup.attr({translateY:"bottom"===
(p.buttonOptions&&p.buttonOptions.verticalAlign)?m:a})}}},u.hasLoaded||l(u,"render",a));this.updateEvents(p)};n.prototype.updateEvents=function(a){var h=this.chart;b(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||l(h.container,"dblclick",function(a){h.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());b(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||l(h.container,
void 0!==d.onwheel?"wheel":void 0!==d.onmousewheel?"mousewheel":"DOMMouseScroll",function(a){h.pointer.inClass(a.target,"highcharts-no-mousewheel")||(h.pointer.onContainerMouseWheel(a),g(a));return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};z(c.prototype,{fitToBox:function(a,b){[["x","width"],["y","height"]].forEach(function(h){var p=h[0];h=h[1];a[p]+a[h]>b[p]+b[h]&&(a[h]>b[h]?(a[h]=b[h],a[p]=b[p]):a[p]=b[p]+b[h]-a[h]);a[h]>b[h]&&(a[h]=b[h]);a[p]<b[p]&&(a[p]=b[p])});
return a},mapZoom:function(a,b,e,p,w){this.mapView&&(r(a)&&(a=Math.log(a)/Math.log(.5)),this.mapView.zoomBy(a,r(b)&&r(e)?this.mapView.projection.inverse([b,e]):void 0,r(p)&&r(w)?[p,w]:void 0))}});l(c,"beforeRender",function(){this.mapNavigation=new n(this);this.mapNavigation.update()});k.MapNavigation=n});A(c,"Maps/MapPointer.js",[c["Core/Pointer.js"],c["Core/Utilities.js"]],function(c,k){var q=k.defined,g=k.extend,n=k.pick;k=k.wrap;var d=c.prototype.normalize,l=0,z;g(c.prototype,{normalize:function(r,
e){var x=this.chart;r=d.call(this,r,e);x&&x.mapView&&(e=x.mapView.pixelsToLonLat({x:r.chartX-x.plotLeft,y:r.chartY-x.plotTop}))&&g(r,e);return r},onContainerDblClick:function(d){var e=this.chart;d=this.normalize(d);e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(d.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(d.chartX-e.plotLeft,d.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,d.chartX,d.chartY)},onContainerMouseWheel:function(d){var e=this.chart;
d=this.normalize(d);var x=q(d.wheelDelta)&&-d.wheelDelta/120||d.deltaY||d.detail;1<=Math.abs(x)&&(l+=Math.abs(x),z&&clearTimeout(z),z=setTimeout(function(){l=0},50));10>l&&e.isInsidePlot(d.chartX-e.plotLeft,d.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-x,void 0,[d.chartX,d.chartY],1>Math.abs(x)?!1:void 0)}});k(c.prototype,"zoomOption",function(d){var e=this.chart.options.mapNavigation;n(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.zooming.pinchType=
"xy");d.apply(this,[].slice.call(arguments,1))});k(c.prototype,"pinchTranslate",function(d,e,x,b,a,h,u){d.call(this,e,x,b,a,h,u);"map"===this.chart.options.chart.type&&this.hasZoom&&(d=b.scaleX>b.scaleY,this.pinchTranslateDirection(!d,e,x,b,a,h,u,d?b.scaleX:b.scaleY))})});A(c,"Series/ColorMapComposition.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k){var q=c.seriesTypes.column.prototype,g=k.addEvent,n=k.defined,d;(function(d){function c(d){this.moveToTopOnHover&&this.graphic&&
this.graphic.attr({zIndex:d&&"hover"===d.state?1:0})}var l=[];d.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&Infinity!==this.value&&-Infinity!==this.value&&(void 0===this.value||!isNaN(this.value))}};d.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(d){var e={};!n(d.color)||d.state&&"normal"!==
d.state||(e[this.colorProp||"fill"]=d.color);return e},pointAttribs:q.pointAttribs};d.compose=function(d){var e=d.prototype.pointClass;-1===l.indexOf(e)&&(l.push(e),g(e,"afterSetState",c));return d}})(d||(d={}));return d});A(c,"Maps/MapSymbols.js",[c["Core/Renderer/SVG/SVGRenderer.js"]],function(c){function k(c,g,n,d,l,k,r,e){return[["M",c+l,g],["L",c+n-k,g],["C",c+n-k/2,g,c+n,g+k/2,c+n,g+k],["L",c+n,g+d-r],["C",c+n,g+d-r/2,c+n-r/2,g+d,c+n-r,g+d],["L",c+e,g+d],["C",c+e/2,g+d,c,g+d-e/2,c,g+d-e],["L",
c,g+l],["C",c,g+l/2,c+l/2,g,c+l,g],["Z"]]}c=c.prototype.symbols;c.bottombutton=function(c,g,n,d,l){l=l&&l.r||0;return k(c-1,g-1,n,d,0,0,l,l)};c.topbutton=function(c,g,n,d,l){l=l&&l.r||0;return k(c-1,g-1,n,d,l,l,0,0)};return c});A(c,"Core/Chart/MapChart.js",[c["Core/Chart/Chart.js"],c["Core/DefaultOptions.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,k,q,g){var n=this&&this.__extends||function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(b,a){b.__proto__=a}||function(b,a){for(var h in a)a.hasOwnProperty(h)&&(b[h]=a[h])};return d(e,c)};return function(e,c){function b(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),d=k.getOptions,l=g.merge,z=g.pick;c=function(c){function e(){return null!==c&&c.apply(this,arguments)||this}n(e,c);e.prototype.init=function(e,b){var a=d().credits;e=l({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:z(a.mapText,' \u00a9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),
mapTextFull:z(a.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},e);c.prototype.init.call(this,e,b)};return e}(c);(function(d){d.maps={};d.mapChart=function(e,c,b){return new d(e,c,b)};d.splitPath=function(d){"string"===typeof d&&(d=d.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,""),d=d.split(/[ ,;]+/).map(function(d){return/[A-za-z]/.test(d)?d:parseFloat(d)}));return q.prototype.pathToSegments(d)}})(c||(c={}));return c});A(c,"Maps/MapUtilities.js",[],
function(){return{boundsFromPath:function(c){var k=-Number.MAX_VALUE,q=Number.MAX_VALUE,g=-Number.MAX_VALUE,n=Number.MAX_VALUE,d;c.forEach(function(c){var l=c[c.length-2];c=c[c.length-1];"number"===typeof l&&"number"===typeof c&&(q=Math.min(q,l),k=Math.max(k,l),n=Math.min(n,c),g=Math.max(g,c),d=!0)});if(d)return{x1:q,y1:n,x2:k,y2:g}},pointInPolygon:function(c,k){var q,g=!1,n=c.x,d=c.y;c=0;for(q=k.length-1;c<k.length;q=c++){var l=k[c][1]>d;var z=k[q][1]>d;l!==z&&n<(k[q][0]-k[c][0])*(d-k[c][1])/(k[q][1]-
k[c][1])+k[c][0]&&(g=!g)}return g}}});A(c,"Series/Map/MapPoint.js",[c["Series/ColorMapComposition.js"],c["Maps/MapUtilities.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q,g){var n=this&&this.__extends||function(){var d=function(c,b){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h])};return d(c,b)};return function(c,b){function a(){this.constructor=c}d(c,b);c.prototype=
null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),d=k.boundsFromPath,l=g.extend,z=g.isNumber,r=g.pick;k=function(c){function e(){var b=null!==c&&c.apply(this,arguments)||this;b.options=void 0;b.path=void 0;b.series=void 0;return b}n(e,c);e.getProjectedPath=function(b,a){b.projectedPath||(a&&b.geometry?(a.hasCoordinates=!0,b.projectedPath=a.path(b.geometry)):b.projectedPath=b.path);return b.projectedPath||[]};e.prototype.applyOptions=function(b,a){var h=this.series;b=c.prototype.applyOptions.call(this,
b,a);a=h.joinBy;h.mapData&&h.mapMap&&(a=c.prototype.getNestedProperty.call(b,a[1]),(h="undefined"!==typeof a&&h.mapMap[a])?l(b,h):b.value=b.value||null);return b};e.prototype.getProjectedBounds=function(b){b=e.getProjectedPath(this,b);b=d(b);var a=this.properties;if(b){var h=a&&a["hc-middle-x"];a=a&&a["hc-middle-y"];b.midX=b.x1+(b.x2-b.x1)*r(this.middleX,z(h)?h:.5);h=r(this.middleY,z(a)?a:.5);this.geometry||(h=1-h);b.midY=b.y2-(b.y2-b.y1)*h;return b}};e.prototype.onMouseOver=function(b){g.clearTimeout(this.colorInterval);
if(!this.isNull||this.series.options.nullInteraction)c.prototype.onMouseOver.call(this,b);else this.series.onMouseOut(b)};e.prototype.zoomTo=function(){var b=this.series.chart;b.mapView&&this.bounds&&(b.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,b.redraw())};return e}(q.seriesTypes.scatter.prototype.pointClass);l(k.prototype,{dataLabelOnNull:c.pointMembers.dataLabelOnNull,moveToTopOnHover:c.pointMembers.moveToTopOnHover,isValid:c.pointMembers.isValid});return k});A(c,"Maps/MapViewOptionsDefault.js",
[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}});A(c,"Maps/MapViewInsetsOptionsDefault.js",[],function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}});A(c,"Extensions/GeoJSON.js",[c["Core/Chart/Chart.js"],c["Core/FormatUtilities.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,k,q,g){function n(b,a){a||(a=Object.keys(b.objects)[0]);a=
b.objects[a];if(a["hc-decoded-geojson"])return a["hc-decoded-geojson"];var h=b.arcs;if(b.transform){var c=b.transform,d=c.scale,e=c.translate;h=b.arcs.map(function(a){var b=0,f=0;return a.map(function(a){a=a.slice();a[0]=(b+=a[0])*d[0]+e[0];a[1]=(f+=a[1])*d[1]+e[1];return a})})}var v=function(a){return"number"===typeof a[0]?a.reduce(function(a,b,c){var f=0>b?h[~b]:h[b];0>b?(f=f.slice(0,0===c?f.length:f.length-1),f.reverse()):c&&(f=f.slice(1));return a.concat(f)},[]):a.map(v)};c=a.geometries.map(function(a){return{type:"Feature",
properties:a.properties,geometry:{type:a.type,coordinates:a.coordinates||v(a.arcs)}}});b={type:"FeatureCollection",copyright:b.copyright,copyrightShort:b.copyrightShort,copyrightUrl:b.copyrightUrl,features:c,"hc-recommended-mapview":a["hc-recommended-mapview"],bbox:b.bbox,title:b.title};return a["hc-decoded-geojson"]=b}function d(b,a,h){void 0===a&&(a="map");var c=[];b="Topology"===b.type?n(b):b;b.features.forEach(function(b){var h=b.geometry||{},d=h.type;h=h.coordinates;b=b.properties;var p;"map"!==
a&&"mapbubble"!==a||"Polygon"!==d&&"MultiPolygon"!==d?"mapline"!==a||"LineString"!==d&&"MultiLineString"!==d?"mappoint"===a&&"Point"===d&&h.length&&(p={geometry:{coordinates:h,type:d}}):h.length&&(p={geometry:{coordinates:h,type:d}}):h.length&&(p={geometry:{coordinates:h,type:d}});p&&(d=b&&(b.name||b.NAME),c.push(e(p,{name:"string"===typeof d?d:void 0,properties:b})))});h&&b.copyrightShort&&(h.chart.mapCredits=l(h.chart.options.credits.mapText,{geojson:b}),h.chart.mapCreditsFull=l(h.chart.options.credits.mapTextFull,
{geojson:b}));return c}var l=k.format,z=q.win,r=g.error,e=g.extend,x=g.merge;k=g.wrap;"";c.prototype.transformFromLatLon=function(b,a){var h=this.options.chart.proj4||z.proj4;if(h){var d=a.jsonmarginX;d=void 0===d?0:d;var c=a.jsonmarginY;c=void 0===c?0:c;var e=a.jsonres;e=void 0===e?1:e;var v=a.scale;v=void 0===v?1:v;var t=a.xoffset;t=void 0===t?0:t;var g=a.xpan;g=void 0===g?0:g;var f=a.yoffset;f=void 0===f?0:f;var m=a.ypan;m=void 0===m?0:m;b=h(a.crs,[b.lon,b.lat]);h=a.cosAngle||a.rotation&&Math.cos(a.rotation);
var l=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=a.rotation?[b[0]*h+b[1]*l,-b[0]*l+b[1]*h]:b;return{x:((a[0]-t)*v+g)*e+d,y:-(((f-a[1])*v+m)*e-c)}}r(21,!1,this)};c.prototype.transformToLatLon=function(b,a){var h=this.options.chart.proj4||z.proj4;if(!h)r(21,!1,this);else if(null!==b.y){var d=a.jsonmarginX,c=a.jsonmarginY,e=a.jsonres;e=void 0===e?1:e;var g=a.scale;g=void 0===g?1:g;var t=a.xoffset,l=a.xpan,f=a.yoffset,m=a.ypan;b={x:((b.x-(void 0===d?0:d))/e-(void 0===l?0:l))/g+(void 0===t?0:t),y:((b.y-
(void 0===c?0:c))/e+(void 0===m?0:m))/g+(void 0===f?0:f)};d=a.cosAngle||a.rotation&&Math.cos(a.rotation);c=a.sinAngle||a.rotation&&Math.sin(a.rotation);a=h(a.crs,"WGS84",a.rotation?{x:b.x*d+b.y*-c,y:b.x*c+b.y*d}:b);return{lat:a.y,lon:a.x}}};c.prototype.fromPointToLatLon=function(b){return this.mapView&&this.mapView.projectedUnitsToLonLat(b)};c.prototype.fromLatLonToPoint=function(b){return this.mapView&&this.mapView.lonLatToProjectedUnits(b)};k(c.prototype,"addCredits",function(b,a){a=x(!0,this.options.credits,
a);this.mapCredits&&(a.href=null);b.call(this,a);this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})});q.geojson=d;return{geojson:d,topo2geo:n}});A(c,"Core/Geometry/PolygonClip.js",[],function(){var c=function(c,n,d){return(n[0]-c[0])*(d[1]-c[1])>(n[1]-c[1])*(d[0]-c[0])},k=function(c,n,d,l){var g=[c[0]-n[0],c[1]-n[1]],k=[d[0]-l[0],d[1]-l[1]];c=c[0]*n[1]-c[1]*n[0];d=d[0]*l[1]-d[1]*l[0];l=1/(g[0]*k[1]-g[1]*k[0]);g=[(c*k[0]-d*g[0])*l,(c*k[1]-d*g[1])*l];g.isIntersection=
!0;return g},q;(function(g){g.clipLineString=function(c,d){var l=[];c=g.clipPolygon(c,d,!1);for(d=1;d<c.length;d++)c[d].isIntersection&&c[d-1].isIntersection&&(l.push(c.splice(0,d)),d=0),d===c.length-1&&l.push(c);return l};g.clipPolygon=function(g,d,l){void 0===l&&(l=!0);for(var n=d[d.length-1],r,e,x=g,b=0;b<d.length;b++){var a=x;g=d[b];x=[];r=l?a[a.length-1]:a[0];for(var h=0;h<a.length;h++)e=a[h],c(n,g,e)?(c(n,g,r)||x.push(k(n,g,r,e)),x.push(e)):c(n,g,r)&&x.push(k(n,g,r,e)),r=e;n=g}return x}})(q||
(q={}));return q});A(c,"Maps/Projections/LambertConformalConic.js",[],function(){var c=Math.sign||function(c){return 0===c?0:0<c?1:-1},k=Math.PI/180,q=Math.PI/2;return function(){function g(g){var d,l=(g.parallels||[]).map(function(c){return c*k}),n=l[0]||0;l=null!==(d=l[1])&&void 0!==d?d:n;d=Math.cos(n);"object"===typeof g.projectedBounds&&(this.projectedBounds=g.projectedBounds);g=n===l?Math.sin(n):Math.log(d/Math.cos(l))/Math.log(Math.tan((q+l)/2)/Math.tan((q+n)/2));1e-10>Math.abs(g)&&(g=1e-10*
(c(g)||1));this.n=g;this.c=d*Math.pow(Math.tan((q+n)/2),g)/g}g.prototype.forward=function(c){var d=c[0]*k,g=this.c,n=this.n,r=this.projectedBounds;c=c[1]*k;0<g?c<-q+.000001&&(c=-q+.000001):c>q-.000001&&(c=q-.000001);var e=g/Math.pow(Math.tan((q+c)/2),n);c=e*Math.sin(n*d)*63.78137;d=63.78137*(g-e*Math.cos(n*d));g=[c,d];r&&(c<r.x1||c>r.x2||d<r.y1||d>r.y2)&&(g.outside=!0);return g};g.prototype.inverse=function(g){var d=g[0]/63.78137,l=this.c,n=this.n;g=l-g[1]/63.78137;var r=c(n)*Math.sqrt(d*d+g*g),e=
Math.atan2(d,Math.abs(g))*c(g);0>g*n&&(e-=Math.PI*c(d)*c(g));return[e/n/k,(2*Math.atan(Math.pow(l/r,1/n))-q)/k]};return g}()});A(c,"Maps/Projections/EqualEarth.js",[],function(){var c=Math.sqrt(3)/2;return function(){function k(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}k.prototype.forward=function(k){var g=Math.PI/180,n=Math.asin(c*Math.sin(k[1]*g)),d=n*n,l=d*d*d;return[k[0]*g*Math.cos(n)*74.03120656864502/(c*(1.340264+3*-.081106*d+l*(7*
.000893+.034164*d))),74.03120656864502*n*(1.340264+-.081106*d+l*(.000893+.003796*d))]};k.prototype.inverse=function(k){var g=k[0]/74.03120656864502;k=k[1]/74.03120656864502;var n=180/Math.PI,d=k,l;for(l=0;12>l;++l){var q=d*d;var r=q*q*q;var e=d*(1.340264+-.081106*q+r*(.000893+.003796*q))-k;q=1.340264+3*-.081106*q+r*(7*.000893+.034164*q);d-=e/=q;if(1e-9>Math.abs(e))break}q=d*d;return[n*c*g*(1.340264+3*-.081106*q+q*q*q*(7*.000893+.034164*q))/Math.cos(d),n*Math.asin(Math.sin(d)/c)]};return k}()});A(c,
"Maps/Projections/Miller.js",[],function(){var c=Math.PI/4,k=Math.PI/180;return function(){function q(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}q.prototype.forward=function(g){return[g[0]*k*63.78137,79.7267125*Math.log(Math.tan(c+.4*g[1]*k))]};q.prototype.inverse=function(g){return[g[0]/63.78137/k,2.5*(Math.atan(Math.exp(g[1]/63.78137*.8))-c)/k]};return q}()});A(c,"Maps/Projections/Orthographic.js",[],function(){var c=Math.PI/180;return function(){function k(){this.antimeridianCutting=
!1;this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}k.prototype.forward=function(k){var g=k[0];k=k[1]*c;k=[Math.cos(k)*Math.sin(g*c)*63.78460826781007,63.78460826781007*Math.sin(k)];if(-90>g||90<g)k.outside=!0;return k};k.prototype.inverse=function(k){var g=k[0]/63.78460826781007;k=k[1]/63.78460826781007;var n=Math.sqrt(g*g+k*k),d=Math.asin(n),l=Math.sin(d);return[Math.atan2(g*l,n*Math.cos(d))/c,Math.asin(n&&k*l/n)/c]};return k}()});A(c,"Maps/Projections/WebMercator.js",
[],function(){var c=Math.PI/180;return function(){function k(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071};this.maxLatitude=85.0511287798}k.prototype.forward=function(k){var g=Math.sin(k[1]*c);g=[63.78137*k[0]*c,63.78137*Math.log((1+g)/(1-g))/2];85.0511287798<Math.abs(k[1])&&(g.outside=!0);return g};k.prototype.inverse=function(k){return[k[0]/(63.78137*c),(2*Math.atan(Math.exp(k[1]/63.78137))-Math.PI/2)/c]};return k}()});A(c,"Maps/Projections/ProjectionRegistry.js",
[c["Maps/Projections/LambertConformalConic.js"],c["Maps/Projections/EqualEarth.js"],c["Maps/Projections/Miller.js"],c["Maps/Projections/Orthographic.js"],c["Maps/Projections/WebMercator.js"]],function(c,k,q,g,n){return{EqualEarth:k,LambertConformalConic:c,Miller:q,Orthographic:g,WebMercator:n}});A(c,"Maps/Projection.js",[c["Core/Geometry/PolygonClip.js"],c["Maps/Projections/ProjectionRegistry.js"],c["Core/Utilities.js"]],function(c,k,q){var g=this&&this.__spreadArray||function(c,b,a){if(a||2===arguments.length)for(var d=
0,e=b.length,p;d<e;d++)!p&&d in b||(p||(p=Array.prototype.slice.call(b,0,d)),p[d]=b[d]);return c.concat(p||Array.prototype.slice.call(b))},n=c.clipLineString,d=c.clipPolygon,l=q.clamp,z=q.erase,r=2*Math.PI/360,e=function(c){-180>c&&(c+=360);180<c&&(c-=360);return c};return function(){function c(b){void 0===b&&(b={});this.hasGeoProjection=this.hasCoordinates=!1;this.maxLatitude=90;this.options=b;var a=b.name,d=b.projectedBounds,e=b.rotation;this.rotator=e?this.getRotator(e):void 0;if(a=a?c.registry[a]:
void 0)this.def=new a(b);var p=this.def,g=this.rotator;p&&(this.maxLatitude=p.maxLatitude||90,this.hasGeoProjection=!0);g&&p?(this.forward=function(a){return p.forward(g.forward(a))},this.inverse=function(a){return g.inverse(p.inverse(a))}):p?(this.forward=function(a){return p.forward(a)},this.inverse=function(a){return p.inverse(a)}):g&&(this.forward=g.forward,this.inverse=g.inverse);this.bounds="world"===d?p&&p.bounds:d}c.add=function(b,a){c.registry[b]=a};c.greatCircle=function(b,a,c){var d=Math.atan2,
h=Math.cos,e=Math.sin,g=Math.sqrt,t=b[1]*r,k=b[0]*r,f=a[1]*r,m=a[0]*r,l=f-t,n=m-k;l=e(l/2)*e(l/2)+h(t)*h(f)*e(n/2)*e(n/2);l=2*d(g(l),g(1-l));var q=Math.round(6371E3*l/5E5);n=[];c&&n.push(b);if(1<q)for(q=b=1/q;.999>q;q+=b){var x=e((1-q)*l)/e(l),E=e(q*l)/e(l),y=x*h(t)*h(k)+E*h(f)*h(m),C=x*h(t)*e(k)+E*h(f)*e(m);x=x*e(t)+E*e(f);x=d(x,g(y*y+C*C));y=d(C,y);n.push([y/r,x/r])}c&&n.push(a);return n};c.insertGreatCircles=function(b){for(var a=b.length-1;a--;)if(10<Math.max(Math.abs(b[a][0]-b[a+1][0]),Math.abs(b[a][1]-
b[a+1][1]))){var d=c.greatCircle(b[a],b[a+1]);d.length&&b.splice.apply(b,g([a+1,0],d,!1))}};c.toString=function(b){b=b||{};var a=b.rotation;return[b.name,a&&a.join(",")].join(";")};c.prototype.lineIntersectsBounds=function(b){var a=this.bounds||{},c=a.x2,d=a.y1,e=a.y2,g=function(a,b,c){var f=a[0];a=a[1];var d=b?0:1;if("number"===typeof c&&f[b]>=c!==a[b]>=c)return f=f[d]+(c-f[b])/(a[b]-f[b])*(a[d]-f[d]),b?[f,c]:[c,f]},k=b[0];if(a=g(b,0,a.x1))k=a,b[1]=a;else if(a=g(b,0,c))k=a,b[1]=a;if(a=g(b,1,d))k=
a;else if(a=g(b,1,e))k=a;return k};c.prototype.getRotator=function(b){var a=b[0]*r,c=(b[1]||0)*r;b=(b[2]||0)*r;var d=Math.cos(c),e=Math.sin(c),g=Math.cos(b),k=Math.sin(b);if(0!==a||0!==c||0!==b)return{forward:function(b){var c=b[0]*r+a,f=b[1]*r,h=Math.cos(f);b=Math.cos(c)*h;c=Math.sin(c)*h;f=Math.sin(f);h=f*d+b*e;return[Math.atan2(c*g-h*k,b*d-f*e)/r,Math.asin(h*g+c*k)/r]},inverse:function(b){var c=b[0]*r,f=b[1]*r,h=Math.cos(f);b=Math.cos(c)*h;c=Math.sin(c)*h;f=Math.sin(f);h=f*g-c*k;return[(Math.atan2(c*
g+f*k,b*d+h*e)-a)/r,Math.asin(h*d-b*e)/r]}}};c.prototype.forward=function(b){return b};c.prototype.inverse=function(b){return b};c.prototype.cutOnAntimeridian=function(b,a){var d=[],k=[b];b.forEach(function(c,f){var h=b[f-1];if(!f){if(!a)return;h=b[b.length-1]}var e=h[0],y=c[0];(-90>e||90<e)&&(-90>y||90<y)&&0<e!==0<y&&(y=l((180-(e+360)%360)/((y+360)%360-(e+360)%360),0,1),d.push({i:f,lat:h[1]+y*(c[1]-h[1]),direction:0>e?1:-1,previousLonLat:h,lonLat:c}))});if(d.length)if(a){if(1===d.length%2){var p=
d.slice().sort(function(a,b){return Math.abs(b.lat)-Math.abs(a.lat)})[0];z(d,p)}for(var w=d.length-2;0<=w;){var v=d[w].i,t=e(180+.000001*d[w].direction),n=e(180-.000001*d[w].direction);v=b.splice.apply(b,g([v,d[w+1].i-v],c.greatCircle([t,d[w].lat],[t,d[w+1].lat],!0),!1));v.push.apply(v,c.greatCircle([n,d[w+1].lat],[n,d[w].lat],!0));k.push(v);w-=2}if(p)for(t=0;t<k.length;t++){w=p.direction;var f=p.lat;n=k[t];v=n.indexOf(p.lonLat);if(-1<v){t=(0>f?-1:1)*this.maxLatitude;var m=e(180+.000001*w),r=e(180-
.000001*w);f=c.greatCircle([m,f],[m,t],!0);for(m+=120*w;-180<m&&180>m;m+=120*w)f.push([m,t]);f.push.apply(f,c.greatCircle([r,t],[r,p.lat],!0));n.splice.apply(n,g([v,0],f,!1));break}}}else for(w=d.length;w--;)v=d[w].i,v=b.splice(v,b.length,[e(180+.000001*d[w].direction),d[w].lat]),v.unshift([e(180-.000001*d[w].direction),d[w].lat]),k.push(v);return k};c.prototype.path=function(b){var a=this,h=this.bounds,e=this.def,g=this.rotator,k=[],l="Polygon"===b.type||"MultiPolygon"===b.type,t=this.hasGeoProjection,
r=!e||!1!==e.antimeridianCutting,f=r?g:void 0,m=r?e||this:this,q;h&&(q=[[h.x1,h.y1],[h.x2,h.y1],[h.x2,h.y2],[h.x1,h.y2]]);var x=function(b){b=b.map(function(a){if(r){f&&(a=f.forward(a));var b=a[0];.000001>Math.abs(b-180)&&(b=180>b?179.999999:180.000001);a=[b,a[1]]}return a});var e=[b];t&&(c.insertGreatCircles(b),r&&(e=a.cutOnAntimeridian(b,l)));e.forEach(function(a){if(!(2>a.length)){var b=!1,f=!1,e=function(a){b?k.push(["L",a[0],a[1]]):(k.push(["M",a[0],a[1]]),b=!0)},g=!1,p=!1,u=a.map(function(a){a=
m.forward(a);a.outside?g=!0:p=!0;Infinity===a[1]?a[1]=1E10:-Infinity===a[1]&&(a[1]=-1E10);return a});if(r){l&&u.push(u[0]);if(g){if(!p)return;if(q)if(l)u=d(u,q);else if(h){n(u,q).forEach(function(a){b=!1;a.forEach(e)});return}}u.forEach(e)}else for(var v=0;v<u.length;v++){var w=a[v],x=u[v];if(x.outside)f=!0;else{if(l&&!B){var B=w;a.push(w);u.push(x)}f&&E&&(l&&t?c.greatCircle(E,w).forEach(function(a){return e(m.forward(a))}):b=!1);e(x);var E=w;f=!1}}}})};"LineString"===b.type?x(b.coordinates):"MultiLineString"===
b.type?b.coordinates.forEach(function(a){return x(a)}):"Polygon"===b.type?(b.coordinates.forEach(function(a){return x(a)}),k.length&&k.push(["Z"])):"MultiPolygon"===b.type&&(b.coordinates.forEach(function(a){a.forEach(function(a){return x(a)})}),k.length&&k.push(["Z"]));return k};c.registry=k;return c}()});A(c,"Maps/MapView.js",[c["Maps/MapViewOptionsDefault.js"],c["Maps/MapViewInsetsOptionsDefault.js"],c["Extensions/GeoJSON.js"],c["Core/Chart/MapChart.js"],c["Maps/MapUtilities.js"],c["Maps/Projection.js"],
c["Core/Utilities.js"]],function(c,k,q,g,n,d,l){var z=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),r=this&&this.__spreadArray||function(a,b,c){if(c||2===arguments.length)for(var d=0,f=b.length,e;d<
f;d++)!e&&d in b||(e||(e=Array.prototype.slice.call(b,0,d)),e[d]=b[d]);return a.concat(e||Array.prototype.slice.call(b))},e=q.topo2geo,x=g.maps,b=n.boundsFromPath,a=n.pointInPolygon,h=l.addEvent,u=l.clamp,p=l.fireEvent,w=l.isArray,v=l.isNumber,t=l.isObject,D=l.isString,f=l.merge,m=l.pick,B=l.relativeLength,G=function(a,b){return Math.log(400.979322/Math.max((a.x2-a.x1)/(b.width/256),(a.y2-a.y1)/(b.height/256)))/Math.log(2)},H=function(){function b(a,e){var y=this;this.insets=[];this.padding=[0,0,
0,0];this.eventsToUnbind=[];var g;if(!(this instanceof F)){var m=r([a.options.chart.map],(a.options.series||[]).map(function(a){return a.mapData}),!0).map(function(a){return y.getGeoMap(a)}),k=[];m.forEach(function(a){a&&(g||(g=a["hc-recommended-mapview"]),a.bbox&&(a=a.bbox,k.push({x1:a[0],y1:a[1],x2:a[2],y2:a[3]})))});var p=k.length&&b.compositeBounds(k);if(p){var C=p.x1;var l=p.y1,u=p.x2;p=p.y2;C=180<u-C&&90<p-l?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[l,p],rotation:[-(C+u)/
2]}}this.geoMap=m[0]}this.userOptions=e||{};m=f(c,{projection:C},g,e);p=g&&g.insets;e=e&&e.insets;p&&e&&(m.insets=b.mergeInsets(p,e));this.chart=a;this.center=m.center;this.options=m;this.projection=new d(m.projection);this.playingField=a.plotBox;this.zoom=m.zoom||0;this.createInsets();this.eventsToUnbind.push(h(a,"afterSetChartSize",function(){y.playingField=y.getField();if(void 0===y.minZoom||y.minZoom===y.zoom)y.fitToBounds(void 0,void 0,!1),!y.chart.hasRendered&&v(y.userOptions.zoom)&&(y.zoom=
y.userOptions.zoom),y.userOptions.center&&f(!0,y.center,y.userOptions.center)}));this.setUpEvents()}b.mergeInsets=function(a,b){var c=function(a){var b={};a.forEach(function(a,c){b[a&&a.id||"i".concat(c)]=a});return b},d=f(c(a),c(b));return Object.keys(d).map(function(a){return d[a]})};b.prototype.createInsets=function(){var a=this,b=this.options,c=b.insets;c&&c.forEach(function(c){c=new F(a,f(b.insetOptions,c));a.insets.push(c)})};b.prototype.fitToBounds=function(a,b,c,d){void 0===c&&(c=!0);var f=
a||this.getProjectedBounds();if(f){var e=m(b,a?0:this.options.padding);b=this.getField(!1);e=w(e)?e:[e,e,e,e];this.padding=[B(e[0],b.height),B(e[1],b.width),B(e[2],b.height),B(e[3],b.width)];this.playingField=this.getField();b=G(f,this.playingField);a||(this.minZoom=b);a=this.projection.inverse([(f.x2+f.x1)/2,(f.y2+f.y1)/2]);this.setView(a,b,c,d)}};b.prototype.getField=function(a){void 0===a&&(a=!0);a=a?this.padding:[0,0,0,0];return{x:a[3],y:a[0],width:this.chart.plotWidth-a[1]-a[3],height:this.chart.plotHeight-
a[0]-a[2]}};b.prototype.getGeoMap=function(a){if(D(a))return x[a];if(t(a,!0)){if("FeatureCollection"===a.type)return a;if("Topology"===a.type)return e(a)}};b.prototype.getMapBBox=function(){var a=this.getProjectedBounds(),b=this.getScale();if(a){var c=this.padding,d=this.projectedUnitsToPixels({x:a.x1,y:a.y2});return{width:(a.x2-a.x1)*b+c[1]+c[3],height:(a.y2-a.y1)*b+c[0]+c[2],x:d.x-c[3],y:d.y-c[0]}}};b.prototype.getProjectedBounds=function(){var a=this.chart.series.reduce(function(a,b){var c=b.getProjectedBounds&&
b.getProjectedBounds();c&&!1!==b.options.affectsMapView&&a.push(c);return a},[]);return this.projection.bounds||b.compositeBounds(a)};b.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)};b.prototype.getSVGTransform=function(){var a=this.playingField,b=a.x,c=a.y,d=a.width;a=a.height;var f=this.projection.forward(this.center),e=this.projection.hasCoordinates?-1:1,h=this.getScale();e*=h;return{scaleX:h,scaleY:e,translateX:b+d/2-f[0]*h,translateY:c+a/2-f[1]*e}};b.prototype.lonLatToPixels=
function(a){if(a=this.lonLatToProjectedUnits(a))return this.projectedUnitsToPixels(a)};b.prototype.lonLatToProjectedUnits=function(b){var c=this.chart,d=c.mapTransforms;if(d){for(var f in d)if(Object.hasOwnProperty.call(d,f)&&d[f].hitZone){var e=c.transformFromLatLon(b,d[f]);if(e&&a(e,d[f].hitZone.coordinates[0]))return e}return c.transformFromLatLon(b,d["default"])}d=0;for(f=this.insets;d<f.length;d++)if(c=f[d],c.options.geoBounds&&a({x:b.lon,y:b.lat},c.options.geoBounds.coordinates[0]))return b=
c.projection.forward([b.lon,b.lat]),b=c.projectedUnitsToPixels({x:b[0],y:b[1]}),this.pixelsToProjectedUnits(b);b=this.projection.forward([b.lon,b.lat]);if(!b.outside)return{x:b[0],y:b[1]}};b.prototype.projectedUnitsToLonLat=function(b){var c=this.chart,d=c.mapTransforms;if(d){for(var f in d)if(Object.hasOwnProperty.call(d,f)&&d[f].hitZone&&a(b,d[f].hitZone.coordinates[0]))return c.transformToLatLon(b,d[f]);return c.transformToLatLon(b,d["default"])}d=this.projectedUnitsToPixels(b);f=0;for(var e=this.insets;f<
e.length;f++)if(c=e[f],c.hitZone&&a(d,c.hitZone.coordinates[0]))return b=c.pixelsToProjectedUnits(d),b=c.projection.inverse([b.x,b.y]),{lon:b[0],lat:b[1]};b=this.projection.inverse([b.x,b.y]);return{lon:b[0],lat:b[1]}};b.prototype.redraw=function(a){this.chart.series.forEach(function(a){a.useMapGeometry&&(a.isDirty=!0)});this.chart.redraw(a)};b.prototype.setView=function(a,b,c,d){void 0===c&&(c=!0);a&&(this.center=a);"number"===typeof b&&("number"===typeof this.minZoom&&(b=Math.max(b,this.minZoom)),
"number"===typeof this.options.maxZoom&&(b=Math.min(b,this.options.maxZoom)),v(b)&&(this.zoom=b));var f=this.getProjectedBounds();if(f){a=this.projection.forward(this.center);var e=this.playingField;b=e.x;var h=e.y,g=e.width;e=e.height;var m=this.getScale(),k=this.projectedUnitsToPixels({x:f.x1,y:f.y1}),l=this.projectedUnitsToPixels({x:f.x2,y:f.y2});f=[(f.x1+f.x2)/2,(f.y1+f.y2)/2];var u=k.x,t=l.y;l=l.x;k=k.y;l-u<g?a[0]=f[0]:u<b&&l<b+g?a[0]+=Math.max(u-b,l-g-b)/m:l>b+g&&u>b&&(a[0]+=Math.min(l-g-b,
u-b)/m);k-t<e?a[1]=f[1]:t<h&&k<h+e?a[1]-=Math.max(t-h,k-e-h)/m:k>h+e&&t>h&&(a[1]-=Math.min(k-e-h,t-h)/m);this.center=this.projection.inverse(a);this.insets.forEach(function(a){a.options.field&&(a.hitZone=a.getHitZone(),a.playingField=a.getField())});this.render()}p(this,"afterSetView");c&&this.redraw(d)};b.prototype.projectedUnitsToPixels=function(a){var b=this.getScale(),c=this.projection.forward(this.center),d=this.playingField;return{x:d.x+d.width/2-b*(c[0]-a.x),y:d.y+d.height/2+b*(c[1]-a.y)}};
b.prototype.pixelsToLonLat=function(a){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(a))};b.prototype.pixelsToProjectedUnits=function(a){var b=a.x;a=a.y;var c=this.getScale(),d=this.projection.forward(this.center),f=this.playingField;return{x:d[0]+(b-(f.x+f.width/2))/c,y:d[1]-(a-(f.y+f.height/2))/c}};b.prototype.setUpEvents=function(){var a=this,b=this.chart,c,d,f,e=function(e){var h=b.pointer.pinchDown,g=a.projection,m=b.mouseDownX,k=b.mouseDownY;1===h.length&&(m=h[0].chartX,k=h[0].chartY);
if("number"===typeof m&&"number"===typeof k){var p=""+m+",".concat(k),l=e.originalEvent;h=l.chartX;l=l.chartY;p!==d&&(d=p,c=a.projection.forward(a.center),f=(a.projection.options.rotation||[0,0]).slice());p=(p=g.def&&g.def.bounds)&&G(p,a.playingField)||-Infinity;"Orthographic"===g.options.name&&(a.minZoom||Infinity)<1.1*p?(g=440/(a.getScale()*Math.min(b.plotWidth,b.plotHeight)),f&&(m=(m-h)*g-f[0],k=u(-f[1]-(k-l)*g,-80,80),h=a.zoom,a.update({projection:{rotation:[-m,-k]}},!1),a.zoom=h,b.redraw(!1))):
(g=a.getScale(),k=a.projection.inverse([c[0]+(m-h)/g,c[1]-(k-l)/g]),a.setView(k,void 0,!0,!1));e.preventDefault()}};h(b,"pan",e);h(b,"touchpan",e);h(b,"selection",function(c){if(c.resetSelection)a.zoomBy();else{var d=c.x-b.plotLeft,f=c.y-b.plotTop,e=a.pixelsToProjectedUnits({x:d,y:f}),h=e.y;e=e.x;d=a.pixelsToProjectedUnits({x:d+c.width,y:f+c.height});a.fitToBounds({x1:e,y1:h,x2:d.x,y2:d.y},void 0,!0,c.originalEvent.touches?!1:void 0);/^touch/.test(c.originalEvent.type)||b.showResetZoom();c.preventDefault()}})};
b.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())};b.prototype.update=function(a,b,c){void 0===b&&(b=!0);var e=a.projection;e=e&&d.toString(e)!==d.toString(this.options.projection);var h=!1;f(!0,this.userOptions,a);f(!0,this.options,a);"insets"in a&&(this.insets.forEach(function(a){return a.destroy()}),this.insets.length=0,h=!0);if(e||h)this.chart.series.forEach(function(a){var b=a.transformGroups;a.clearBounds&&a.clearBounds();a.isDirty=
!0;a.isDirtyData=!0;if(h&&b)for(;1<b.length;)(a=b.pop())&&a.destroy()}),e&&(this.projection=new d(this.options.projection)),h&&this.createInsets(),a.center||v(a.zoom)||this.fitToBounds(void 0,void 0,!1);(a.center||v(a.zoom))&&this.setView(this.options.center,a.zoom,!1);b&&this.chart.redraw(c)};b.prototype.zoomBy=function(a,b,c,d){var f=this.chart,e=this.projection.forward(this.center);b=b?this.projection.forward(b):[];var h=b[0],g=b[1];"number"===typeof a?(a=this.zoom+a,b=void 0,c&&(h=c[0],g=c[1],
c=this.getScale(),h=h-f.plotLeft-f.plotWidth/2,f=g-f.plotTop-f.plotHeight/2,h=e[0]+h/c,g=e[1]+f/c),"number"===typeof h&&"number"===typeof g&&(c=1-Math.pow(2,this.zoom)/Math.pow(2,a),h=e[0]-h,f=e[1]-g,e[0]-=h*c,e[1]+=f*c,b=this.projection.inverse(e)),this.setView(b,a,void 0,d)):this.fitToBounds(void 0,void 0,void 0,d)};b.compositeBounds=function(a){if(a.length)return a.slice(1).reduce(function(a,b){a.x1=Math.min(a.x1,b.x1);a.y1=Math.min(a.y1,b.y1);a.x2=Math.max(a.x2,b.x2);a.y2=Math.max(a.y2,b.y2);
return a},f(a[0]))};return b}(),F=function(c){function d(a,d){var e=c.call(this,a.chart,d)||this;e.id=d.id;e.mapView=a;e.options=f(k,d);e.allBounds=[];e.options.geoBounds&&(a=a.projection.path(e.options.geoBounds),e.geoBoundsProjectedBox=b(a),e.geoBoundsProjectedPolygon=a.map(function(a){return[a[1]||0,a[2]||0]}));return e}z(d,c);d.prototype.getField=function(a){void 0===a&&(a=!0);var b=this.hitZone;if(b){var d=a?this.padding:[0,0,0,0];b=b.coordinates[0];var f=b.map(function(a){return a[0]}),e=b.map(function(a){return a[1]});
b=Math.min.apply(0,f)+d[3];f=Math.max.apply(0,f)-d[1];var h=Math.min.apply(0,e)+d[0];d=Math.max.apply(0,e)-d[2];if(v(b)&&v(h))return{x:b,y:h,width:f-b,height:d-h}}return c.prototype.getField.call(this,a)};d.prototype.getHitZone=function(){var a=this.chart,b=this.mapView,c=this.options,d=(c.field||{}).coordinates;if(d){d=d[0];if("percent"===c.units){var e="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||f(a.plotBox,{x:0,y:0});d=d.map(function(a){return[B(""+a[0]+"%",e.width,e.x),B(""+a[1]+"%",e.height,
e.y)]})}return{type:"Polygon",coordinates:[d]}}};d.prototype.getProjectedBounds=function(){return H.compositeBounds(this.allBounds)};d.prototype.isInside=function(b){var c=this.geoBoundsProjectedBox,d=this.geoBoundsProjectedPolygon;return!!(c&&b.x>=c.x1&&b.x<=c.x2&&b.y>=c.y1&&b.y<=c.y2&&d&&a(b,d))};d.prototype.render=function(){var a=this.chart,b=this.mapView,c=this.options,d=c.borderPath||c.field;if(d&&b.group){var f=!0;this.border||(this.border=a.renderer.path().addClass("highcharts-mapview-inset-border").add(b.group),
f=!1);a.styledMode||this.border.attr({stroke:c.borderColor,"stroke-width":c.borderWidth});var e=Math.round(this.border.strokeWidth())%2/2,h="mapBoundingBox"===c.relativeTo&&b.getMapBBox()||b.playingField;b=(d.coordinates||[]).reduce(function(b,d){return d.reduce(function(b,d,f){var g=d[0];d=d[1];"percent"===c.units&&(g=a.plotLeft+B(""+g+"%",h.width,h.x),d=a.plotTop+B(""+d+"%",h.height,h.y));g=Math.floor(g)+e;d=Math.floor(d)+e;b.push(0===f?["M",g,d]:["L",g,d]);return b},b)},[]);this.border[f?"animate":
"attr"]({d:b})}};d.prototype.destroy=function(){this.border&&(this.border=this.border.destroy());this.eventsToUnbind.forEach(function(a){return a()})};d.prototype.setUpEvents=function(){};return d}(H);h(g,"afterInit",function(){this.mapView=new H(this,this.options.mapView)});return H});A(c,"Series/Map/MapSeries.js",[c["Core/Animation/AnimationUtilities.js"],c["Series/ColorMapComposition.js"],c["Series/CenteredUtilities.js"],c["Core/Globals.js"],c["Core/Legend/LegendSymbol.js"],c["Core/Chart/MapChart.js"],
c["Series/Map/MapPoint.js"],c["Maps/MapView.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,k,q,g,n,d,l,z,r,e,x,b){var a=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=
null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=c.animObject;c=g.noop;var u=d.splitPath;d=e.seriesTypes;var p=d.column,w=d.scatter;d=b.extend;var v=b.find,t=b.fireEvent,D=b.getNestedProperty,f=b.isArray,m=b.isNumber,B=b.isObject,G=b.merge,H=b.objectEach,F=b.pick,E=b.splat;b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.group=void 0;a.joinBy=void 0;a.options=void 0;a.points=void 0;a.processedData=[];return a}a(c,b);c.prototype.animate=
function(a){var b=this.chart,c=this.group,d=h(this.options.animation);b.renderer.isSVG&&(a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.001,scaleY:.001}):c.animate({translateX:b.plotLeft,translateY:b.plotTop,scaleX:1,scaleY:1},d))};c.prototype.animateDrilldown=function(a){var b=this.chart,c=this.group;b.renderer.isSVG&&(a?c.attr({translateX:b.plotLeft+b.plotWidth/2,translateY:b.plotTop+b.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):(c.animate({translateX:b.plotLeft,
translateY:b.plotTop,scaleX:1,scaleY:1,opacity:1},this.chart.options.drilldown.animation),b.drilldown&&b.drilldown.fadeInGroup(this.dataLabelsGroup)))};c.prototype.animateDrillupFrom=function(){var a=this.chart;a.renderer.isSVG&&this.group.animate({translateX:a.plotLeft+a.plotWidth/2,translateY:a.plotTop+a.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})};c.prototype.animateDrillupTo=function(a){p.prototype.animateDrillupTo.call(this,a)};c.prototype.clearBounds=function(){this.points.forEach(function(a){delete a.bounds;
delete a.insetIndex;delete a.projectedPath});delete this.bounds};c.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)};c.prototype.drawMapDataLabels=function(){r.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};c.prototype.drawPoints=function(){var a=this,b=this,c=this.chart,d=this.group,f=this.transformGroups,e=void 0===f?[]:f,h=c.mapView,g=c.renderer;h&&(this.transformGroups=
e,e[0]||(e[0]=g.g().add(d)),h.insets.forEach(function(a,b){e[b+1]||e.push(g.g().add(d))}),this.doFullTranslate()&&(this.points.forEach(function(b){var d=b.graphic,f=b.shapeArgs;b.group=e["number"===typeof b.insetIndex?b.insetIndex+1:0];d&&d.parentGroup!==b.group&&d.add(b.group);f&&c.hasRendered&&!c.styledMode&&(f.fill=a.pointAttribs(b,b.state).fill)}),p.prototype.drawPoints.apply(this),this.points.forEach(function(d){var f=d.graphic;if(f){var e=f.animate,h="";d.name&&(h+="highcharts-name-"+d.name.replace(/ /g,
"-").toLowerCase());d.properties&&d.properties["hc-key"]&&(h+=" highcharts-key-"+d.properties["hc-key"].toString().toLowerCase());h&&f.addClass(h);c.styledMode&&f.css(a.pointAttribs(d,d.selected&&"select"||void 0));f.animate=function(a,d,h){var g=!1;if(a["stroke-width"]){var m=F(b.getStrokeWidth(b.options),1)/(c.mapView&&c.mapView.getScale()||1);"inherit"===f["stroke-width"]&&(f["stroke-width"]=m);"inherit"===a["stroke-width"]&&(a["stroke-width"]=m,g=!0)}return e.call(f,a,d,g?function(){f.attr({"stroke-width":"inherit"});
h&&h.apply(this,arguments)}:h)}}})),e.forEach(function(b,d){var f=(0===d?h:h.insets[d-1]).getSVGTransform(),e=F(a.getStrokeWidth(a.options),1),m=f.scaleX,k=0<f.scaleY?1:-1;if(g.globalAnimation&&c.hasRendered){var p=Number(b.attr("translateX")),l=Number(b.attr("translateY")),u=Number(b.attr("scaleX"));b.attr({animator:0}).animate({animator:1},{step:function(a,c){a=u+(m-u)*c.pos;b.attr({translateX:p+(f.translateX-p)*c.pos,translateY:l+(f.translateY-l)*c.pos,scaleX:a,scaleY:a*k});b.element.setAttribute("stroke-width",
e/a)}})}else b.attr(f),b.element.setAttribute("stroke-width",e/m)}),this.drawMapDataLabels())};c.prototype.getProjectedBounds=function(){if(!this.bounds&&this.chart.mapView){var a=this.chart.mapView,b=a.insets,c=a.projection,d=[];(this.points||[]).forEach(function(a){if(a.path||a.geometry){"string"===typeof a.path?a.path=u(a.path):f(a.path)&&"M"===a.path[0]&&(a.path=x.prototype.pathToSegments(a.path));if(!a.bounds){var e=a.getProjectedBounds(c);if(e){a.labelrank=F(a.labelrank,(e.x2-e.x1)*(e.y2-e.y1));
var h=e.midX,g=e.midY;if(b&&m(h)&&m(g)){var k=v(b,function(a){return a.isInside({x:h,y:g})});k&&(delete a.projectedPath,(e=a.getProjectedBounds(k.projection))&&k.allBounds.push(e),a.insetIndex=b.indexOf(k))}a.bounds=e}}a.bounds&&void 0===a.insetIndex&&d.push(a.bounds)}});this.bounds=z.compositeBounds(d)}return this.bounds};c.prototype.getStrokeWidth=function(a){var b=this.pointAttrToOptions;return a[b&&b["stroke-width"]||"borderWidth"]};c.prototype.hasData=function(){return!!this.processedXData.length};
c.prototype.pointAttribs=function(a,b){var c=a.series.chart,d=c.mapView;c=c.styledMode?this.colorAttribs(a):p.prototype.pointAttribs.call(this,a,b);var f=this.getStrokeWidth(a.options);b&&(a=G(this.options.states[b],a.options.states&&a.options.states[b]||{}),f=this.getStrokeWidth(a));f&&d&&(f/=d.getScale());a=this.getStrokeWidth(this.options);c.dashstyle&&d&&m(a)&&(f=a/d.getScale());c["stroke-width"]=F(f,"inherit");return c};c.prototype.updateData=function(){return this.processedData?!1:b.prototype.updateData.apply(this,
arguments)};c.prototype.setData=function(a,c,d,f){void 0===c&&(c=!0);delete this.bounds;b.prototype.setData.call(this,a,!1,void 0,f);this.processData();this.generatePoints();c&&this.chart.redraw(d)};c.prototype.processData=function(){var a=this.options,b=a.data,c=this.chart.options.chart,d=this.joinBy,e=a.keys||this.pointArrayMap,h=[],k={},p=this.chart.mapView;p=p&&(B(a.mapData,!0)?p.getGeoMap(a.mapData):p.geoMap);var u=this.chart.mapTransforms;(this.chart.mapTransforms=u=c.mapTransforms||p&&p["hc-transform"]||
u)&&H(u,function(a){a.rotation&&(a.cosAngle=Math.cos(a.rotation),a.sinAngle=Math.sin(a.rotation))});if(f(a.mapData))var t=a.mapData;else p&&"FeatureCollection"===p.type&&(this.mapTitle=p.title,t=g.geojson(p,this.type,this));var n=this.processedData=[];b&&b.forEach(function(c,h){var g=0;if(m(c))n[h]={value:c};else if(f(c)){n[h]={};!a.keys&&c.length>e.length&&"string"===typeof c[0]&&(n[h]["hc-key"]=c[0],++g);for(var k=0;k<e.length;++k,++g)e[k]&&"undefined"!==typeof c[g]&&(0<e[k].indexOf(".")?l.prototype.setNestedProperty(n[h],
c[g],e[k]):n[h][e[k]]=c[g])}else n[h]=b[h];d&&"_i"===d[0]&&(n[h]._i=h)});if(t){this.mapData=t;this.mapMap={};for(u=0;u<t.length;u++)c=t[u],p=c.properties,c._i=u,d[0]&&p&&p[d[0]]&&(c[d[0]]=p[d[0]]),k[c[d[0]]]=c;this.mapMap=k;if(d[1]){var v=d[1];n.forEach(function(a){a=D(v,a);k[a]&&h.push(k[a])})}if(a.allAreas){if(d[1]){var w=d[1];n.forEach(function(a){h.push(D(w,a))})}var r="|"+h.map(function(a){return a&&a[d[0]]}).join("|")+"|";t.forEach(function(a){d[0]&&-1!==r.indexOf("|"+a[d[0]]+"|")||n.push(G(a,
{value:null}))})}}this.processedXData=Array(n.length)};c.prototype.setOptions=function(a){a=r.prototype.setOptions.call(this,a);var b=a.joinBy;null===b&&(b="_i");b=this.joinBy=E(b);b[1]||(b[1]=b[0]);return a};c.prototype.translate=function(){var a=this.doFullTranslate(),b=this.chart.mapView,c=b&&b.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!b||b.userOptions.center||m(b.userOptions.zoom)?this.getProjectedBounds():
b.fitToBounds(void 0,void 0,!1));if(b){var d=b.getSVGTransform();this.points.forEach(function(f){var e=m(f.insetIndex)&&b.insets[f.insetIndex].getSVGTransform()||d;e&&f.bounds&&m(f.bounds.midX)&&m(f.bounds.midY)&&(f.plotX=f.bounds.midX*e.scaleX+e.translateX,f.plotY=f.bounds.midY*e.scaleY+e.translateY);a&&(f.shapeType="path",f.shapeArgs={d:l.getProjectedPath(f,c)})})}t(this,"afterTranslate")};c.defaultOptions=G(w.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var a=
this.series.chart.numberFormatter,b=this.point.value;return m(b)?a(b,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}});return c}(w);d(b.prototype,{type:"map",axisTypes:k.seriesMembers.axisTypes,
colorAttribs:k.seriesMembers.colorAttribs,colorKey:k.seriesMembers.colorKey,directTouch:!0,drawDataLabels:c,drawGraph:c,drawLegendSymbol:n.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:c,isCartesian:!1,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:k.seriesMembers.pointArrayMap,pointClass:l,preserveAspectRatio:!0,searchPoint:c,trackerGroups:k.seriesMembers.trackerGroups,useMapGeometry:!0});k.compose(b);e.registerSeriesType("map",b);"";return b});A(c,"Series/MapLine/MapLineSeries.js",
[c["Series/Map/MapSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q){var g=this&&this.__extends||function(){var c=function(d,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var a in b)b.hasOwnProperty(a)&&(c[a]=b[a])};return c(d,e)};return function(d,e){function g(){this.constructor=d}c(d,e);d.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)}}(),n=k.series,d=q.extend,l=q.merge;q=function(d){function k(){var c=
null!==d&&d.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}g(k,d);k.prototype.pointAttribs=function(d,g){d=c.prototype.pointAttribs.call(this,d,g);d.fill=this.options.fillColor;return d};k.defaultOptions=l(c.defaultOptions,{lineWidth:1,fillColor:"none"});return k}(c);d(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:n.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}});k.registerSeriesType("mapline",q);"";
return q});A(c,"Series/MapPoint/MapPointPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k){var q=this&&this.__extends||function(){var c=function(d,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return c(d,g)};return function(d,g){function k(){this.constructor=d}c(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}(),g=k.isNumber;return function(c){function d(){var d=
null!==c&&c.apply(this,arguments)||this;d.options=void 0;d.series=void 0;return d}q(d,c);d.prototype.isValid=function(){return!!(this.options.geometry||g(this.x)&&g(this.y)||g(this.options.lon)&&g(this.options.lat))};return d}(c.seriesTypes.scatter.prototype.pointClass)});A(c,"Series/MapPoint/MapPointSeries.js",[c["Core/Globals.js"],c["Series/MapPoint/MapPointPoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q,g){var n=this&&this.__extends||function(){var c=function(b,
a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return c(b,a)};return function(b,a){function d(){this.constructor=b}c(b,a);b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}}();c=c.noop;var d=q.seriesTypes.scatter,l=g.extend,z=g.fireEvent,r=g.isNumber,e=g.merge;g=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;a.chart=void 0;a.data=void 0;a.options=void 0;
a.points=void 0;return a}n(b,c);b.prototype.drawDataLabels=function(){c.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)};b.prototype.projectPoint=function(a){var b=this.chart.mapView;if(b){var c=a.geometry,d=a.lon;a=a.lat;c=c&&"Point"===c.type&&c.coordinates;r(d)&&r(a)&&(c=[d,a]);if(c)return b.lonLatToProjectedUnits({lon:c[0],lat:c[1]})}};b.prototype.translate=function(){var a=this,b=this.chart.mapView;this.processedXData||this.processData();
this.generatePoints();this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds());if(b){var c=b.projection.hasCoordinates;this.points.forEach(function(d){var e=d.x;e=void 0===e?void 0:e;var h=d.y;h=void 0===h?void 0:h;var g=a.projectPoint(d.options);g?(e=g.x,h=g.y):d.bounds&&(e=d.bounds.midX,h=d.bounds.midY);r(e)&&r(h)?(e=b.projectedUnitsToPixels({x:e,y:h}),d.plotX=e.x,d.plotY=c?e.y:a.chart.plotHeight-e.y):d.y=d.plotX=d.plotY=void 0;d.isInside=a.isPointInside(d);d.zone=
a.zones.length?d.getZone():void 0})}z(this,"afterTranslate")};b.defaultOptions=e(d.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}});return b}(d);l(g.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:k,searchPoint:c,useMapGeometry:!0});q.registerSeriesType("mappoint",g);"";return g});A(c,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,
className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}});A(c,"Series/Bubble/BubbleLegendItem.js",[c["Core/Color/Color.js"],c["Core/FormatUtilities.js"],
c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,k,q,g){var n=c.parse,d=q.noop,l=g.arrayMax,z=g.arrayMin,r=g.isNumber,e=g.merge,x=g.pick,b=g.stableSort;c=function(){function a(a,b){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0;this.setState=d;this.init(a,b)}a.prototype.init=function(a,b){this.options=a;this.visible=
!0;this.chart=b.chart;this.legend=b};a.prototype.addToLegend=function(a){a.splice(this.options.legendIndex,0,this)};a.prototype.drawLegendSymbol=function(a){var c=this.chart,d=this.options,e=x(a.options.itemDistance,20),h=d.ranges,g=d.connectorDistance;this.fontMetrics=c.renderer.fontMetrics(d.labels.style.fontSize);h&&h.length&&r(h[0].value)?(b(h,function(a,b){return b.value-a.value}),this.ranges=h,this.setOptions(),this.render(),a=this.getMaxLabelSize(),h=this.ranges[0].radius,c=2*h,g=g-h+a.width,
g=0<g?g:0,this.maxLabel=a,this.movementX="left"===d.labels.align?g:0,this.legendItemWidth=c+g+e,this.legendItemHeight=c+this.fontMetrics.h/2):a.options.bubbleLegend.autoRanges=!0};a.prototype.setOptions=function(){var a=this.ranges,b=this.options,c=this.chart.series[b.seriesIndex],d=this.legend.baseline,g={zIndex:b.zIndex,"stroke-width":b.borderWidth},k={zIndex:b.zIndex,"stroke-width":b.connectorWidth},l={align:this.legend.options.rtl||"left"===b.labels.align?"right":"left",zIndex:b.zIndex},f=c.options.marker.fillOpacity,
m=this.chart.styledMode;a.forEach(function(h,p){m||(g.stroke=x(h.borderColor,b.borderColor,c.color),g.fill=x(h.color,b.color,1!==f?n(c.color).setOpacity(f).get("rgba"):c.color),k.stroke=x(h.connectorColor,b.connectorColor,c.color));a[p].radius=this.getRangeRadius(h.value);a[p]=e(a[p],{center:a[0].radius-a[p].radius+d});m||e(!0,a[p],{bubbleAttribs:e(g),connectorAttribs:e(k),labelAttribs:l})},this)};a.prototype.getRangeRadius=function(a){var b=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,
b.ranges[b.ranges.length-1].value,b.ranges[0].value,b.minSize,b.maxSize,a)};a.prototype.render=function(){var a=this.chart.renderer,b=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]});this.legendSymbol=a.g("bubble-legend");this.legendItem=a.g("bubble-legend-item");this.legendSymbol.translateX=0;this.legendSymbol.translateY=0;this.ranges.forEach(function(a){a.value>=b&&this.renderRange(a)},this);this.legendSymbol.add(this.legendItem);this.legendItem.add(this.legendGroup);
this.hideOverlappingLabels()};a.prototype.renderRange=function(a){var b=this.options,c=b.labels,d=this.chart,e=d.series[b.seriesIndex],h=d.renderer,g=this.symbols;d=g.labels;var f=a.center,k=Math.abs(a.radius),l=b.connectorDistance||0,n=c.align,q=b.connectorWidth,r=this.ranges[0].radius||0,x=f-k-b.borderWidth/2+q/2,y=this.fontMetrics;y=y.f/2-(y.h-y.f)/2;var z=h.styledMode;l=this.legend.options.rtl||"left"===n?-l:l;"center"===n&&(l=0,b.connectorDistance=0,a.labelAttribs.align="center");n=x+b.labels.y;
var A=r+l+b.labels.x;g.bubbleItems.push(h.circle(r,f+((x%1?1:.5)-(q%2?0:.5)),k).attr(z?{}:a.bubbleAttribs).addClass((z?"highcharts-color-"+e.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(b.className||"")).add(this.legendSymbol));g.connectors.push(h.path(h.crispLine([["M",r,x],["L",r+l,x]],b.connectorWidth)).attr(z?{}:a.connectorAttribs).addClass((z?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(b.connectorClassName||"")).add(this.legendSymbol));
a=h.text(this.formatLabel(a),A,n+y).attr(z?{}:a.labelAttribs).css(z?{}:c.style).addClass("highcharts-bubble-legend-labels "+(b.labels.className||"")).add(this.legendSymbol);d.push(a);a.placed=!0;a.alignAttr={x:A,y:n+y}};a.prototype.getMaxLabelSize=function(){var a,b;this.symbols.labels.forEach(function(c){b=c.getBBox(!0);a=a?b.width>a.width?b:a:b});return a||{}};a.prototype.formatLabel=function(a){var b=this.options,c=b.labels.formatter;b=b.labels.format;var d=this.chart.numberFormatter;return b?
k.format(b,a):c?c.call(a):d(a.value,1)};a.prototype.hideOverlappingLabels=function(){var a=this.chart,b=this.symbols;!this.options.labels.allowOverlap&&b&&(a.hideOverlappingLabels(b.labels),b.labels.forEach(function(a,c){a.newOpacity?a.newOpacity!==a.oldOpacity&&b.connectors[c].show():b.connectors[c].hide()}))};a.prototype.getRanges=function(){var a=this.legend.bubbleLegend,b=a.options.ranges,c,d=Number.MAX_VALUE,g=-Number.MAX_VALUE;a.chart.series.forEach(function(a){a.isBubble&&!a.ignoreSeries&&
(c=a.zData.filter(r),c.length&&(d=x(a.options.zMin,Math.min(d,Math.max(z(c),!1===a.options.displayNegative?a.options.zThreshold:-Number.MAX_VALUE))),g=x(a.options.zMax,Math.max(g,l(c)))))});var k=d===g?[{value:g}]:[{value:d},{value:(d+g)/2},{value:g,autoRanges:!0}];b.length&&b[0].radius&&k.reverse();k.forEach(function(a,c){b&&b[c]&&(k[c]=e(b[c],a))});return k};a.prototype.predictBubbleSizes=function(){var a=this.chart,b=this.fontMetrics,c=a.legend.options,d=c.floating,e=(c="horizontal"===c.layout)?
a.legend.lastLineHeight:0,g=a.plotSizeX,k=a.plotSizeY,f=a.series[this.options.seriesIndex],m=f.getPxExtremes();a=Math.ceil(m.minPxSize);m=Math.ceil(m.maxPxSize);var l=Math.min(k,g);f=f.options.maxSize;if(d||!/%$/.test(f))b=m;else if(f=parseFloat(f),b=(l+e-b.h/2)*f/100/(f/100+1),c&&k-b>=g||!c&&g-b>=k)b=m;return[a,Math.ceil(b)]};a.prototype.updateRanges=function(a,b){var c=this.legend.options.bubbleLegend;c.minSize=a;c.maxSize=b;c.ranges=this.getRanges()};a.prototype.correctSizes=function(){var a=this.legend,
b=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,b.maxPxSize),a.render())};return a}();"";return c});A(c,"Series/Bubble/BubbleLegendComposition.js",[c["Series/Bubble/BubbleLegendDefaults.js"],c["Series/Bubble/BubbleLegendItem.js"],c["Core/DefaultOptions.js"],c["Core/Utilities.js"]],function(c,k,q,g){function n(b,c,g){var h=this.legend,k=0<=d(this);if(h&&h.options.enabled&&h.bubbleLegend&&
h.options.bubbleLegend.autoRanges&&k){var f=h.bubbleLegend.options;k=h.bubbleLegend.predictBubbleSizes();h.bubbleLegend.updateRanges(k[0],k[1]);f.placed||(h.group.placed=!1,h.allItems.forEach(function(a){a.legendGroup.translateY=null}));h.render();this.getMargins();this.axes.forEach(function(b){b.visible&&b.render();f.placed||(b.setScale(),b.updateNames(),a(b.ticks,function(a){a.isNew=!0;a.isNewLabel=!0}))});f.placed=!0;this.getMargins();b.call(this,c,g);h.bubbleLegend.correctSizes();e(h,l(h))}else b.call(this,
c,g),h&&h.options.enabled&&h.bubbleLegend&&(h.render(),e(h,l(h)))}function d(a){a=a.series;for(var b=0;b<a.length;){if(a[b]&&a[b].isBubble&&a[b].visible&&a[b].zData.length)return b;b++}return-1}function l(a){a=a.allItems;var b=[],c=a.length,d,e=0;for(d=0;d<c;d++)if(a[d].legendItemHeight&&(a[d].itemHeight=a[d].legendItemHeight),a[d]===a[c-1]||a[d+1]&&a[d]._legendItemPos[1]!==a[d+1]._legendItemPos[1]){b.push({height:0});var f=b[b.length-1];for(e;e<=d;e++)a[e].itemHeight>f.height&&(f.height=a[e].itemHeight);
f.step=d}return b}function z(a){var b=this.bubbleLegend,c=this.options,e=c.bubbleLegend,g=d(this.chart);b&&b.ranges&&b.ranges.length&&(e.ranges.length&&(e.autoRanges=!!e.ranges[0].autoRanges),this.destroyItem(b));0<=g&&c.enabled&&e.enabled&&(e.seriesIndex=g,this.bubbleLegend=new k(e,this),this.bubbleLegend.addToLegend(a.allItems))}function r(){var a=this.chart,b=this.visible,c=this.chart.legend;c&&c.bubbleLegend&&(this.visible=!b,this.ignoreSeries=b,a=0<=d(a),c.bubbleLegend.visible!==a&&(c.update({bubbleLegend:{enabled:a}}),
c.bubbleLegend.visible=a),this.visible=b)}function e(a,b){var c=a.options.rtl,d,e,f,g=0;a.allItems.forEach(function(a,h){d=a.legendGroup.translateX;e=a._legendItemPos[1];if((f=a.movementX)||c&&a.ranges)f=c?d-a.options.maxSize/2:d+f,a.legendGroup.attr({translateX:f});h>b[g].step&&g++;a.legendGroup.attr({translateY:Math.round(e+b[g].height/2)});a._legendItemPos[1]=e+b[g].height/2})}var x=q.setOptions,b=g.addEvent,a=g.objectEach,h=g.wrap,u=[];return{compose:function(a,d,e){-1===u.indexOf(a)&&(u.push(a),
x({legend:{bubbleLegend:c}}),h(a.prototype,"drawChartBox",n));-1===u.indexOf(d)&&(u.push(d),b(d,"afterGetAllItems",z));-1===u.indexOf(e)&&(u.push(e),b(e,"legendItemClick",r))}}});A(c,"Series/Bubble/BubblePoint.js",[c["Core/Series/Point.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q){var g=this&&this.__extends||function(){var c=function(d,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&
(c[e]=d[e])};return c(d,g)};return function(d,g){function k(){this.constructor=d}c(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}();q=q.extend;k=function(k){function d(){var c=null!==k&&k.apply(this,arguments)||this;c.options=void 0;c.series=void 0;return c}g(d,k);d.prototype.haloPath=function(d){return c.prototype.haloPath.call(this,0===d?0:(this.marker?this.marker.radius||0:0)+d)};return d}(k.seriesTypes.scatter.prototype.pointClass);q(k.prototype,{ttBelow:!1});return k});
A(c,"Series/Bubble/BubbleSeries.js",[c["Series/Bubble/BubbleLegendComposition.js"],c["Series/Bubble/BubblePoint.js"],c["Core/Color/Color.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q,g,n,d){function l(){var a=this,b=this.len,c=this.chart,d=this.isXAxis,e=d?"xData":"yData",g=this.min,h=this.max-g,k=0,l=b,n=b/h,p;this.series.forEach(function(b){if(b.bubblePadding&&(b.visible||!c.options.chart.ignoreHiddenSeries)){p=a.allowZoomOutside=!0;var f=b[e];
d&&((b.onPoint||b).getRadii(0,0,b),b.onPoint&&(b.radii=b.onPoint.radii));if(0<h)for(var m=f.length;m--;)if(w(f[m])&&a.dataMin<=f[m]&&f[m]<=a.max){var q=b.radii&&b.radii[m]||0;k=Math.min((f[m]-g)*n-q,k);l=Math.max((f[m]-g)*n+q,l)}}});p&&0<h&&!this.logarithmic&&(l-=b,n*=(b+Math.max(0,k)-Math.min(l,b))/b,[["min","userMin",k],["max","userMax",l]].forEach(function(b){"undefined"===typeof t(a.options[b[0]],a[b[1]])&&(a[b[0]]+=b[2]/n)}))}var z=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),r=q.parse;q=g.noop;var e=n.series,x=n.seriesTypes;g=x.column.prototype;var b=x.scatter;x=d.addEvent;var a=d.arrayMax,h=d.arrayMin,u=d.clamp,p=d.extend,w=d.isNumber,v=d.merge,t=d.pick,A=[];d=function(d){function f(){var a=null!==
d&&d.apply(this,arguments)||this;a.data=void 0;a.maxPxSize=void 0;a.minPxSize=void 0;a.options=void 0;a.points=void 0;a.radii=void 0;a.yData=void 0;a.zData=void 0;return a}z(f,d);f.compose=function(a,b,d,f){c.compose(b,d,f);-1===A.indexOf(a)&&(A.push(a),a.prototype.beforePadding=l)};f.prototype.animate=function(a){!a&&this.points.length<this.options.animationLimit&&this.points.forEach(function(a){var b=a.graphic;b&&b.width&&(this.hasRendered||b.attr({x:a.plotX,y:a.plotY,width:1,height:1}),b.animate(this.markerAttribs(a),
this.options.animation))},this)};f.prototype.getRadii=function(){var a=this,b=this.zData,c=this.yData,d=[],f=this.chart.bubbleZExtremes;var e=this.getPxExtremes();var g=e.minPxSize,h=e.maxPxSize;if(!f){var k=Number.MAX_VALUE,m=-Number.MAX_VALUE,l;this.chart.series.forEach(function(b){b.bubblePadding&&(b.visible||!a.chart.options.chart.ignoreHiddenSeries)&&(b=(b.onPoint||b).getZExtremes())&&(k=Math.min(k||b.zMin,b.zMin),m=Math.max(m||b.zMax,b.zMax),l=!0)});l?(f={zMin:k,zMax:m},this.chart.bubbleZExtremes=
f):f={zMin:0,zMax:0}}var n=0;for(e=b.length;n<e;n++){var p=b[n];d.push(this.getRadius(f.zMin,f.zMax,g,h,p,c&&c[n]))}this.radii=d};f.prototype.getRadius=function(a,b,c,d,f,e){var g=this.options,h="width"!==g.sizeBy,k=g.zThreshold,m=b-a,l=.5;if(null===e||null===f)return null;if(w(f)){g.sizeByAbsoluteValue&&(f=Math.abs(f-k),m=Math.max(b-k,Math.abs(a-k)),a=0);if(f<a)return c/2-1;0<m&&(l=(f-a)/m)}h&&0<=l&&(l=Math.sqrt(l));return Math.ceil(c+l*(d-c))/2};f.prototype.hasData=function(){return!!this.processedXData.length};
f.prototype.pointAttribs=function(a,b){var c=this.options.marker.fillOpacity;a=e.prototype.pointAttribs.call(this,a,b);1!==c&&(a.fill=r(a.fill).setOpacity(c).get("rgba"));return a};f.prototype.translate=function(){d.prototype.translate.call(this);this.getRadii();this.translateBubble()};f.prototype.translateBubble=function(){for(var a=this.data,b=this.radii,c=this.getPxExtremes().minPxSize,d=a.length;d--;){var f=a[d],e=b?b[d]:0;w(e)&&e>=c/2?(f.marker=p(f.marker,{radius:e,width:2*e,height:2*e}),f.dlBox=
{x:f.plotX-e,y:f.plotY-e,width:2*e,height:2*e}):(f.shapeArgs=f.dlBox=void 0,f.plotY=0,f.marker={width:0,height:0})}};f.prototype.getPxExtremes=function(){var a=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=function(b){if("string"===typeof b){var c=/%$/.test(b);b=parseInt(b,10)}return c?a*b/100:b},c=b(t(this.options.minSize,8));b=Math.max(b(t(this.options.maxSize,"20%")),c);return{minPxSize:c,maxPxSize:b}};f.prototype.getZExtremes=function(){var b=this.options,c=(this.zData||[]).filter(w);
if(c.length){var d=t(b.zMin,u(h(c),!1===b.displayNegative?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));b=t(b.zMax,a(c));if(w(d)&&w(b))return{zMin:d,zMax:b}}};f.defaultOptions=v(b.defaultOptions,{dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.z;return w(b)?a(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",
softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});return f}(b);p(d.prototype,{alignDataLabel:g.alignDataLabel,applyZones:q,bubblePadding:!0,buildKDTree:q,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:k,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"});x(d,"updatedData",function(a){delete a.target.chart.bubbleZExtremes});
x(d,"remove",function(a){delete a.target.chart.bubbleZExtremes});n.registerSeriesType("bubble",d);"";"";return d});A(c,"Series/MapBubble/MapBubblePoint.js",[c["Series/Bubble/BubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q){var g=this&&this.__extends||function(){var c=function(d,g){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return c(d,g)};return function(d,
g){function k(){this.constructor=d}c(d,g);d.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}}();k=k.seriesTypes.map.prototype.pointClass.prototype;q=q.extend;c=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}g(d,c);d.prototype.isValid=function(){return"number"===typeof this.z};return d}(c);q(c.prototype,{applyOptions:k.applyOptions,getProjectedBounds:k.getProjectedBounds});return c});A(c,"Series/MapBubble/MapBubbleSeries.js",[c["Series/Bubble/BubbleSeries.js"],
c["Series/MapBubble/MapBubblePoint.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,k,q,g){var n=this&&this.__extends||function(){var c=function(d,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return c(d,b)};return function(d,b){function a(){this.constructor=d}c(d,b);d.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)}}(),d=q.seriesTypes,l=d.map.prototype,
z=d.mappoint.prototype;d=g.extend;var r=g.merge;g=function(d){function e(){var b=null!==d&&d.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}n(e,d);e.prototype.searchPoint=function(b,a){return this.searchKDTree({clientX:b.chartX-this.chart.plotLeft,plotY:b.chartY-this.chart.plotTop},a,b)};e.prototype.translate=function(){z.translate.call(this);this.getRadii();this.translateBubble()};e.defaultOptions=r(c.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",
tooltip:{pointFormat:"{point.name}: {point.z}"}});return e}(c);d(g.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:l.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:k,processData:l.processData,projectPoint:z.projectPoint,setData:l.setData,setOptions:l.setOptions,updateData:l.updateData,useMapGeometry:!0,xyFromShape:!0});q.registerSeriesType("mapbubble",g);"";return g});A(c,"Series/Heatmap/HeatmapPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],
function(c,k){var q=this&&this.__extends||function(){var c=function(d,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var a in b)b.hasOwnProperty(a)&&(c[a]=b[a])};return c(d,e)};return function(d,e){function g(){this.constructor=d}c(d,e);d.prototype=null===e?Object.create(e):(g.prototype=e.prototype,new g)}}(),g=k.clamp,n=k.defined,d=k.extend,l=k.pick;c=function(c){function d(){var d=null!==c&&c.apply(this,arguments)||this;d.options=void 0;
d.series=void 0;d.value=void 0;d.x=void 0;d.y=void 0;return d}q(d,c);d.prototype.applyOptions=function(d,g){d=c.prototype.applyOptions.call(this,d,g);d.formatPrefix=d.isNull||null===d.value?"null":"point";return d};d.prototype.getCellAttributes=function(){var c=this.series,d=c.options,b=(d.colsize||1)/2,a=(d.rowsize||1)/2,h=c.xAxis,k=c.yAxis,p=this.options.marker||c.options.marker;c=c.pointPlacementToXValue();var q=l(this.pointPadding,d.pointPadding,0),r={x1:g(Math.round(h.len-h.translate(this.x-
b,!1,!0,!1,!0,-c)),-h.len,2*h.len),x2:g(Math.round(h.len-h.translate(this.x+b,!1,!0,!1,!0,-c)),-h.len,2*h.len),y1:g(Math.round(k.translate(this.y-a,!1,!0,!1,!0)),-k.len,2*k.len),y2:g(Math.round(k.translate(this.y+a,!1,!0,!1,!0)),-k.len,2*k.len)};[["width","x"],["height","y"]].forEach(function(a){var b=a[0];a=a[1];var c=a+"1",d=a+"2",e=Math.abs(r[c]-r[d]),g=p&&p.lineWidth||0,h=Math.abs(r[c]+r[d])/2;b=p&&p[b];n(b)&&b<e&&(b=b/2+g/2,r[c]=h-b,r[d]=h+b);q&&("y"===a&&(c=d,d=a+"1"),r[c]+=q,r[d]-=q)});return r};
d.prototype.haloPath=function(c){if(!c)return[];var d=this.shapeArgs;return["M",d.x-c,d.y-c,"L",d.x-c,d.y+d.height+c,d.x+d.width+c,d.y+d.height+c,d.x+d.width+c,d.y-c,"Z"]};d.prototype.isValid=function(){return Infinity!==this.value&&-Infinity!==this.value};return d}(c.seriesTypes.scatter.prototype.pointClass);d(c.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1});return c});A(c,"Series/Heatmap/HeatmapSeries.js",[c["Core/Color/Color.js"],c["Series/ColorMapComposition.js"],c["Series/Heatmap/HeatmapPoint.js"],
c["Core/Legend/LegendSymbol.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Renderer/SVG/SVGRenderer.js"],c["Core/Utilities.js"]],function(c,k,q,g,n,d,l){var z=this&&this.__extends||function(){var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,
new d)}}(),r=n.series,e=n.seriesTypes,x=e.column,b=e.scatter,a=d.prototype.symbols,h=l.extend,u=l.fireEvent,p=l.isNumber,w=l.merge,v=l.pick;d=function(d){function e(){var a=null!==d&&d.apply(this,arguments)||this;a.colorAxis=void 0;a.data=void 0;a.options=void 0;a.points=void 0;a.valueMax=NaN;a.valueMin=NaN;return a}z(e,d);e.prototype.drawPoints=function(){var a=this;if((this.options.marker||{}).enabled||this._hasPointMarkers)r.prototype.drawPoints.call(this),this.points.forEach(function(b){b.graphic&&
(b.graphic[a.chart.styledMode?"css":"animate"](a.colorAttribs(b)),null===b.value&&b.graphic.addClass("highcharts-null-point"))})};e.prototype.getExtremes=function(){var a=r.prototype.getExtremes.call(this,this.valueData),b=a.dataMin;a=a.dataMax;p(b)&&(this.valueMin=b);p(a)&&(this.valueMax=a);return r.prototype.getExtremes.call(this)};e.prototype.getValidPoints=function(a,b){return r.prototype.getValidPoints.call(this,a,b,!0)};e.prototype.hasData=function(){return!!this.processedXData.length};e.prototype.init=
function(){r.prototype.init.apply(this,arguments);var b=this.options;b.pointRange=v(b.pointRange,b.colsize||1);this.yAxis.axisPointRange=b.rowsize||1;a.ellipse=a.circle;b.marker&&(b.marker.r=b.borderRadius)};e.prototype.markerAttribs=function(a,b){var c=a.marker||{},d=this.options.marker||{},e=a.shapeArgs||{},f={};if(a.hasImage)return{x:a.plotX,y:a.plotY};if(b){var g=d.states[b]||{};var h=c.states&&c.states[b]||{};[["width","x"],["height","y"]].forEach(function(a){f[a[0]]=(h[a[0]]||g[a[0]]||e[a[0]])+
(h[a[0]+"Plus"]||g[a[0]+"Plus"]||0);f[a[1]]=e[a[1]]+(e[a[0]]-f[a[0]])/2})}return b?f:e};e.prototype.pointAttribs=function(a,b){var d=r.prototype.pointAttribs.call(this,a,b),e=this.options||{},f=this.chart.options.plotOptions||{},g=f.series||{},h=f.heatmap||{};f=a&&a.options.borderColor||e.borderColor||h.borderColor||g.borderColor;g=a&&a.options.borderWidth||e.borderWidth||h.borderWidth||g.borderWidth||d["stroke-width"];d.stroke=a&&a.marker&&a.marker.lineColor||e.marker&&e.marker.lineColor||f||this.color;
d["stroke-width"]=g;b&&(a=w(e.states[b],e.marker&&e.marker.states[b],a&&a.options.states&&a.options.states[b]||{}),b=a.brightness,d.fill=a.color||c.parse(d.fill).brighten(b||0).get(),d.stroke=a.lineColor);return d};e.prototype.setClip=function(a){var b=this.chart;r.prototype.setClip.apply(this,arguments);(!1!==this.options.clip||a)&&this.markerGroup.clip((a||this.clipBox)&&this.sharedClipKey?b.sharedClips[this.sharedClipKey]:b.clipRect)};e.prototype.translate=function(){var b=this.options,c=b.marker&&
b.marker.symbol||"rect",d=a[c]?c:"rect",e=-1!==["circle","square"].indexOf(d);this.generatePoints();this.points.forEach(function(f){var g=f.getCellAttributes(),k={};k.x=Math.min(g.x1,g.x2);k.y=Math.min(g.y1,g.y2);k.width=Math.max(Math.abs(g.x2-g.x1),0);k.height=Math.max(Math.abs(g.y2-g.y1),0);var l=f.hasImage=0===(f.marker&&f.marker.symbol||c||"").indexOf("url");if(e){var m=Math.abs(k.width-k.height);k.x=Math.min(g.x1,g.x2)+(k.width<k.height?0:m/2);k.y=Math.min(g.y1,g.y2)+(k.width<k.height?m/2:0);
k.width=k.height=Math.min(k.width,k.height)}m={plotX:(g.x1+g.x2)/2,plotY:(g.y1+g.y2)/2,clientX:(g.x1+g.x2)/2,shapeType:"path",shapeArgs:w(!0,k,{d:a[d](k.x,k.y,k.width,k.height,{r:b.borderRadius})})};l&&(f.marker={width:k.width,height:k.height});h(f,m)});u(this,"afterTranslate")};e.defaultOptions=w(b.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var a=this.series.chart.numberFormatter,b=this.point.value;return p(b)?a(b,-1):""},inside:!0,
verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}});return e}(b);h(d.prototype,{axisTypes:k.seriesMembers.axisTypes,colorKey:k.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:k.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:k.seriesMembers.trackerGroups,
alignDataLabel:x.prototype.alignDataLabel,colorAttribs:k.seriesMembers.colorAttribs,drawLegendSymbol:g.drawRectangle,getSymbol:r.prototype.getSymbol});k.compose(d);n.registerSeriesType("heatmap",d);"";"";return d});A(c,"masters/modules/map.src.js",[c["Core/Globals.js"],c["Core/Axis/Color/ColorAxis.js"],c["Series/MapBubble/MapBubbleSeries.js"],c["Core/Chart/MapChart.js"],c["Maps/MapView.js"],c["Maps/Projection.js"]],function(c,k,q,g,n,d){c.ColorAxis=k;c.MapChart=g;c.mapChart=c.Map=g.mapChart;c.MapView=
n;c.maps=g.maps;c.Projection=d;k.compose(c.Chart,c.Fx,c.Legend,c.Series);q.compose(c.Axis,c.Chart,c.Legend,c.Series)})});
//# sourceMappingURL=map.js.map